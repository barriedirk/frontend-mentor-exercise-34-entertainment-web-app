import{o as f,h as j,i as w,r as l,e as y,j as e,L as N,s as S}from"./index-GU3RhaxD.js";import{u as L,a as v,b as C,I as m}from"./useFocusFirstInput-Bp__LBth.js";const F=f({email:w("Invalid email address."),password:j().min(8,"Password must be at least 8 characters long.")});function k(){const[s,a]=l.useState(null),c=y(),d=L(),{control:i,handleSubmit:p,formState:{errors:n,isValid:u,isSubmitting:x}}=v({resolver:C(F),mode:"onChange",defaultValues:{email:"",password:""}});l.useEffect(()=>{let t;return s&&(t=setTimeout(()=>a(""),5e3)),()=>{t&&clearTimeout(t)}},[s]);const r=async({email:t,password:g})=>{const{error:o,data:b}=await S.auth.signInWithPassword({email:t,password:g});b.session&&c("/"),o&&a(o?.message)},h=()=>{r({email:"demo-entertainment-web-app@fakeemail.com",password:"3nT3rt4inMen1"})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"login",children:[e.jsx("h1",{id:"login-heading",className:"text-preset-1 mb-[40px]",children:"Login"}),e.jsxs("form",{ref:d,onSubmit:p(r),"aria-labelledby":"login-heading",children:[e.jsx(m,{name:"email",control:i,label:"Email",type:"email",error:n.email,autoComplete:"email"}),e.jsx(m,{name:"password",control:i,label:"Password",type:"password",error:n.password,autoComplete:"password"}),e.jsx("button",{className:"btn--submit mt-[40px] text-preset-4 flex justify-center items-center",type:"button","aria-label":"Log in to your account",disabled:!u||x,children:"Login to your account"}),s&&e.jsx("p",{className:"text-red-500 text-preset-3 text-center my-2",children:String(s)})]}),e.jsxs("p",{className:"text-preset-4 mt-[20px] flex justify-center items-center gap-2",children:[e.jsx("span",{className:"text-white-custom",children:"Donâ€™t have an account?"}),e.jsx(N,{className:"text-red-500",to:"/signup","aria-label":"Sign Up",children:"Sign Up"})]}),e.jsxs("div",{className:"text-preset-5 mt-[20px] flex justify-center items-center gap-2 text-white-custom",children:[e.jsx("span",{children:"Use"}),e.jsx("button",{type:"button",className:"text-red-500 underline","aria-label":"Login with demo credentials",onClick:()=>h(),children:"Login Credentials"}),e.jsx("span",{children:"to explore the demo."})]})]})})}export{k as default};
