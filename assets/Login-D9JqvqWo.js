import{o as j,h as w,i as y,r as l,e as S,j as e,L as N,s as L}from"./index-Dtn3ftiv.js";import{u as v,a as C,b as F,I as m}from"./useFocusFirstInput-DJcJa95q.js";import{l as c}from"./App-_ZMzlsTS.js";const I=j({email:y("Invalid email address."),password:w().min(8,"Password must be at least 8 characters long.")});function T(){const[s,a]=l.useState(null),d=S(),p=v(),{control:i,handleSubmit:u,formState:{errors:n,isValid:x,isSubmitting:h}}=C({resolver:F(I),mode:"onChange",defaultValues:{email:"",password:""}});l.useEffect(()=>{let t;return s&&(t=setTimeout(()=>a(""),5e3)),()=>{t&&clearTimeout(t)}},[s]);const r=async({email:t,password:b})=>{c.show();try{const{error:o,data:f}=await L.auth.signInWithPassword({email:t,password:b});f.session&&d("/"),o&&a(o?.message)}finally{c.hide()}},g=()=>{r({email:"demo-entertainment-web-app@fakeemail.com",password:"3nT3rt4inMen1"})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"login",children:[e.jsx("h1",{id:"login-heading",className:"text-preset-1 mb-[40px]",children:"Login"}),e.jsxs("form",{ref:p,onSubmit:u(r),"aria-labelledby":"login-heading",children:[e.jsx(m,{name:"email",control:i,label:"Email",type:"email",error:n.email,autoComplete:"email"}),e.jsx(m,{name:"password",control:i,label:"Password",type:"password",error:n.password,autoComplete:"password"}),e.jsx("button",{className:"btn--submit mt-[40px] text-preset-4 flex justify-center items-center",type:"button","aria-label":"Log in to your account",disabled:!x||h,children:"Login to your account"}),s&&e.jsx("p",{className:"text-red-500 text-preset-3 text-center my-2",children:String(s)})]}),e.jsxs("p",{className:"text-preset-4 mt-[20px] flex justify-center items-center gap-2",children:[e.jsx("span",{className:"text-white-custom",children:"Donâ€™t have an account?"}),e.jsx(N,{className:"text-red-500",to:"/signup","aria-label":"Sign Up",children:"Sign Up"})]}),e.jsxs("div",{className:"text-preset-5 mt-[20px] flex justify-center items-center gap-2 text-white-custom",children:[e.jsx("span",{children:"Use"}),e.jsx("button",{type:"button",className:"text-red-500 underline","aria-label":"Login with demo credentials",onClick:()=>g(),children:"Login Credentials"}),e.jsx("span",{children:"to explore the demo."})]})]})})}export{T as default};
