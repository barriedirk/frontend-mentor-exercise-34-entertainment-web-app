import{o as b,h as l,i as j,r as m,e as y,j as e,L as P,s as S}from"./index-Dtn3ftiv.js";import{u as N,a as v,b as C,I as o}from"./useFocusFirstInput-DJcJa95q.js";import{l as c}from"./App-_ZMzlsTS.js";const F=b({email:j("Invalid email address."),password:l().min(8,"Password must be at least 6 characters long.").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,32}$/,"Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character"),confirmPassword:l().min(8,"Password must be at least 8 characters long.")}).refine(s=>s.password===s.confirmPassword,{message:"The passwords are different",path:["confirmPassword"]});function U(){const[s,n]=m.useState(),d=y(),p=N(),{control:t,handleSubmit:u,formState:{errors:r,isValid:f,isSubmitting:x}}=v({resolver:C(F),mode:"onChange",defaultValues:{email:"",password:"",confirmPassword:""}});m.useEffect(()=>{let a;return s&&(a=setTimeout(()=>n(""),5e3)),()=>{a&&clearTimeout(a)}},[s]);const g=async({email:a,password:h})=>{c.show();try{const{error:i,data:w}=await S.auth.signUp({email:a,password:h});w.session&&d("/"),i&&n(i?.message)}finally{c.hide()}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"signup",children:[e.jsx("h1",{id:"signup-heading",className:"text-preset-1 mb-[40px]",children:"Sign Up"}),e.jsxs("form",{ref:p,onSubmit:u(g),"aria-labelledby":"signup-heading",children:[e.jsx(o,{name:"email",control:t,label:"Email",type:"email",error:r.email,autoComplete:"email"}),e.jsx(o,{name:"password",control:t,label:"Password",type:"password",error:r.password,autoComplete:"password"}),e.jsx(o,{name:"confirmPassword",control:t,label:"Repeat Password",type:"password",error:r.confirmPassword,autoComplete:"confirmPassword"}),e.jsx("button",{className:"btn--submit mt-[40px] text-preset-4 flex justify-center items-center",type:"button","aria-label":"Create your account",disabled:!f||x,children:"Create an account"}),s&&e.jsx("p",{className:"text-red-500 text-preset-3 text-center my-2",children:String(s)})]}),e.jsxs("p",{className:"text-preset-4 mt-[20px] flex justify-center items-center gap-2",children:[e.jsx("span",{className:"text-white-custom",children:"Already have an account?"}),e.jsx(P,{className:"text-red-500",to:"/login","aria-label":"Sign Up",children:"Login"})]})]})})}export{U as default};
