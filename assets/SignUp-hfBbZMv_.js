import{o as w,h as l,i as b,r as m,e as j,j as e,L as P,s as y}from"./index-GU3RhaxD.js";import{u as S,a as N,b as v,I as o}from"./useFocusFirstInput-Bp__LBth.js";const C=w({email:b("Invalid email address."),password:l().min(8,"Password must be at least 6 characters long.").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,32}$/,"Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character"),confirmPassword:l().min(8,"Password must be at least 8 characters long.")}).refine(s=>s.password===s.confirmPassword,{message:"The passwords are different",path:["confirmPassword"]});function E(){const[s,n]=m.useState(),c=j(),d=S(),{control:t,handleSubmit:p,formState:{errors:r,isValid:u,isSubmitting:x}}=N({resolver:v(C),mode:"onChange",defaultValues:{email:"",password:"",confirmPassword:""}});m.useEffect(()=>{let a;return s&&(a=setTimeout(()=>n(""),5e3)),()=>{a&&clearTimeout(a)}},[s]);const f=async({email:a,password:g})=>{const{error:i,data:h}=await y.auth.signUp({email:a,password:g});h.session&&c("/"),i&&n(i?.message)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"signup",children:[e.jsx("h1",{id:"signup-heading",className:"text-preset-1 mb-[40px]",children:"Sign Up"}),e.jsxs("form",{ref:d,onSubmit:p(f),"aria-labelledby":"signup-heading",children:[e.jsx(o,{name:"email",control:t,label:"Email",type:"email",error:r.email,autoComplete:"email"}),e.jsx(o,{name:"password",control:t,label:"Password",type:"password",error:r.password,autoComplete:"password"}),e.jsx(o,{name:"confirmPassword",control:t,label:"Repeat Password",type:"password",error:r.confirmPassword,autoComplete:"confirmPassword"}),e.jsx("button",{className:"btn--submit mt-[40px] text-preset-4 flex justify-center items-center",type:"button","aria-label":"Create your account",disabled:!u||x,children:"Create an account"}),s&&e.jsx("p",{className:"text-red-500 text-preset-3 text-center my-2",children:String(s)})]}),e.jsxs("p",{className:"text-preset-4 mt-[20px] flex justify-center items-center gap-2",children:[e.jsx("span",{className:"text-white-custom",children:"Already have an account?"}),e.jsx(P,{className:"text-red-500",to:"/login","aria-label":"Sign Up",children:"Login"})]})]})})}export{E as default};
