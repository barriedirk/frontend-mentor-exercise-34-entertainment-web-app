const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-Cm97H7t1.js","assets/index-GU3RhaxD.js","assets/index-S7dljTSt.css","assets/useFocusFirstInput-Bp__LBth.js","assets/useFocusFirstInput-CRRWIm_J.css","assets/Login-BcdBs02Z.css","assets/SignUp-hfBbZMv_.js","assets/SignUp-CRd-5fGV.css","assets/Mockup-Bbya2gzm.js","assets/Mockup-tn0RQdqM.css","assets/Movies-izRQsBQc.js","assets/TVSeries-Vc2Y9ApI.js","assets/Bookmarks-lka4iGoT.js"])))=>i.map(i=>d[i]);
import{r as a,A as $e,j as n,O as J,N as Ce,a as Le,u as Ve,b as Ie,c as Re,d as Fe,e as Ae,L as Be,f as Z,s as Ze,R as He,g as M,_ as V}from"./index-GU3RhaxD.js";function Pe(){return a.useContext($e)}function qe(){const{user:e,loading:t}=Pe();return t?n.jsx("div",{children:"Loading..."}):e?n.jsx(J,{}):n.jsx(Ce,{to:"/login",replace:!0})}var Ue=Symbol.for("preact-signals");function X(){if(C>1)C--;else{for(var e,t=!1;A!==void 0;){var r=A;for(A=void 0,z++;r!==void 0;){var o=r.o;if(r.o=void 0,r.f&=-3,!(8&r.f)&&he(r))try{r.c()}catch(s){t||(e=s,t=!0)}r=o}}if(z=0,C--,t)throw e}}var p=void 0;function ue(e){var t=p;p=void 0;try{return e()}finally{p=t}}var A=void 0,C=0,z=0,q=0;function de(e){if(p!==void 0){var t=e.n;if(t===void 0||t.t!==p)return t={i:0,S:e,p:p.s,n:void 0,t:p,e:void 0,x:void 0,r:t},p.s!==void 0&&(p.s.n=t),p.s=t,e.n=t,32&p.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=p.s,t.n=void 0,p.s.n=t,p.s=t),t}}function w(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=t?.watched,this.Z=t?.unwatched}w.prototype.brand=Ue;w.prototype.h=function(){return!0};w.prototype.S=function(e){var t=this,r=this.t;r!==e&&e.e===void 0&&(e.x=r,this.t=e,r!==void 0?r.e=e:ue(function(){var o;(o=t.W)==null||o.call(t)}))};w.prototype.U=function(e){var t=this;if(this.t!==void 0){var r=e.e,o=e.x;r!==void 0&&(r.x=o,e.e=void 0),o!==void 0&&(o.e=r,e.x=void 0),e===this.t&&(this.t=o,o===void 0&&ue(function(){var s;(s=t.Z)==null||s.call(t)}))}};w.prototype.subscribe=function(e){var t=this;return ee(function(){var r=t.value,o=p;p=void 0;try{e(r)}finally{p=o}})};w.prototype.valueOf=function(){return this.value};w.prototype.toString=function(){return this.value+""};w.prototype.toJSON=function(){return this.value};w.prototype.peek=function(){var e=p;p=void 0;try{return this.value}finally{p=e}};Object.defineProperty(w.prototype,"value",{get:function(){var e=de(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(z>100)throw new Error("Cycle detected");this.v=e,this.i++,q++,C++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{X()}}}});function Oe(e,t){return new w(e,t)}function he(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function fe(e){for(var t=e.s;t!==void 0;t=t.n){var r=t.S.n;if(r!==void 0&&(t.r=r),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function me(e){for(var t=e.s,r=void 0;t!==void 0;){var o=t.p;t.i===-1?(t.S.U(t),o!==void 0&&(o.n=t.n),t.n!==void 0&&(t.n.p=o)):r=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=o}e.s=r}function $(e,t){w.call(this,void 0),this.x=e,this.s=void 0,this.g=q-1,this.f=4,this.W=t?.watched,this.Z=t?.unwatched}$.prototype=new w;$.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===q))return!0;if(this.g=q,this.f|=1,this.i>0&&!he(this))return this.f&=-2,!0;var e=p;try{fe(this),p=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(r){this.v=r,this.f|=16,this.i++}return p=e,me(this),this.f&=-2,!0};$.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}w.prototype.S.call(this,e)};$.prototype.U=function(e){if(this.t!==void 0&&(w.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};$.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};Object.defineProperty($.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=de(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function De(e,t){return new $(e,t)}function pe(e){var t=e.u;if(e.u=void 0,typeof t=="function"){C++;var r=p;p=void 0;try{t()}catch(o){throw e.f&=-2,e.f|=8,Q(e),o}finally{p=r,X()}}}function Q(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,pe(e)}function Ke(e){if(p!==this)throw new Error("Out-of-order effect");me(this),p=e,this.f&=-2,8&this.f&&Q(this),X()}function I(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}I.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};I.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,pe(this),fe(this),C++;var e=p;return p=this,Ke.bind(this,e)};I.prototype.N=function(){2&this.f||(this.f|=2,this.o=A,A=this)};I.prototype.d=function(){this.f|=8,1&this.f||Q(this)};I.prototype.dispose=function(){this.d()};function ee(e){var t=new I(e);try{t.c()}catch(o){throw t.d(),o}var r=t.d.bind(t);return r[Symbol.dispose]=r,r}var O={exports:{}},D={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ne;function ze(){if(ne)return D;ne=1;var e=Le();function t(d,v){return d===v&&(d!==0||1/d===1/v)||d!==d&&v!==v}var r=typeof Object.is=="function"?Object.is:t,o=e.useState,s=e.useEffect,c=e.useLayoutEffect,u=e.useDebugValue;function l(d,v){var g=v(),b=o({inst:{value:g,getSnapshot:v}}),x=b[0].inst,_=b[1];return c(function(){x.value=g,x.getSnapshot=v,i(x)&&_({inst:x})},[d,g,v]),s(function(){return i(x)&&_({inst:x}),d(function(){i(x)&&_({inst:x})})},[d]),u(g),g}function i(d){var v=d.getSnapshot;d=d.value;try{var g=v();return!r(d,g)}catch{return!0}}function m(d,v){return v()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:l;return D.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,D}var oe;function We(){return oe||(oe=1,O.exports=ze()),O.exports}var Ye=We(),Ge=a.version.split(".").map(Number)[0],te=[],Je=Symbol.for(Ge>=19?"react.transitional.element":"react.element"),T,ve=Symbol.dispose||Symbol.for("Symbol.dispose");function K(e,t){var r=t.effect.S();return T=t,Xe.bind(t,e,r)}function Xe(e,t){t(),T=e}var se,W,ie=function(){},Qe=((se={o:0,effect:{s:void 0,c:function(){},S:function(){return ie},d:function(){}},subscribe:function(){return ie},getSnapshot:function(){return 0},S:function(){},f:function(){}})[ve]=function(){},se),et=Promise.prototype.then.bind(Promise.resolve());function tt(){W||(W=et(xe))}function xe(){var e;W=void 0,(e=T)==null||e.f()}var rt=typeof window<"u"?a.useLayoutEffect:a.useEffect;function ge(e){e===void 0&&(e=0),tt();var t=a.useRef();t.current==null&&(typeof window>"u"?t.current=Qe:t.current=function(o){var s,c,u,l,i=0,m=ee(function(){c=this});return c.c=function(){i=i+1|0,l&&l()},(s={o,effect:c,subscribe:function(f){return l=f,function(){i=i+1|0,l=void 0,m()}},getSnapshot:function(){return i},S:function(){if(T!=null){var f=T.o,d=this.o;f==0&&d==0||f==0&&d==1?(T.f(),u=K(void 0,this)):f==1&&d==0||f==2&&d==0||(u=K(T,this))}else u=K(void 0,this)},f:function(){var f=u;u=void 0,f?.()}})[ve]=function(){this.f()},s}(e));var r=t.current;return Ye.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot),r.S(),e===0&&rt(xe),r}Object.defineProperties(w.prototype,{$$typeof:{configurable:!0,value:Je},type:{configurable:!0,value:function(e){var t=e.data,r=ge(1);try{return t.value}finally{r.f()}}},props:{configurable:!0,get:function(){return{data:this}}},ref:{configurable:!0,value:null}});function nt(e){return ge(e)}function _e(e,t){return a.useMemo(function(){return Oe(e,t)},te)}function fr(e,t){var r=a.useRef(e);return r.current=e,a.useMemo(function(){return De(function(){return r.current()},t)},te)}function mr(e){var t=a.useRef(e);t.current=e,a.useEffect(function(){return ee(function(){return t.current()})},te)}function ye(e){var t,r,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=ye(e[t]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}function h(){for(var e,t,r=0,o="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=ye(e))&&(o&&(o+=" "),o+=t);return o}const ae={"media-section--page":"_media-section--page_1ryez_1"},ot="_movie_15qnu_1",st="_movie__image_15qnu_9",it="_movie__play_15qnu_54",at="_movie__bookmark_15qnu_92",j={movie:ot,movie__image:st,"movie__image--loaded":"_movie__image--loaded_15qnu_22","movie__image--trending":"_movie__image--trending_15qnu_27","movie__image--regular":"_movie__image--regular_15qnu_28","movie__image--poster":"_movie__image--poster_15qnu_29","movie--poster":"_movie--poster_15qnu_46","movie--regular":"_movie--regular_15qnu_47",movie__play:it,"movie__btn-play":"_movie__btn-play_15qnu_65","movie--trending":"_movie--trending_15qnu_69",movie__bookmark:at},we=a.createContext(void 0);function R(){const e=a.useContext(we);if(!e)throw new Error("Movie compound components must be inside <Movie>");return e}function lt(){const{item:e,type:t,isLoaded:r,setIsLoaded:o}=R(),s=a.useRef(null),c=t==="regular",u=t==="trending",l=t==="poster",i=u?e.thumbnail.trending:e.thumbnail.regular;return n.jsxs("picture",{className:j.movie__picture,children:[u?n.jsx("source",{media:"(min-width:900px)",srcSet:i.large}):n.jsxs(n.Fragment,{children:[n.jsx("source",{media:"(min-width:900px)",srcSet:i.large}),n.jsx("source",{media:"(min-width:500px)",srcSet:e.thumbnail.regular.medium})]}),n.jsx("img",{ref:s,loading:"lazy",className:h(j.movie__image,"radius-8px",u&&j["movie__image--trending"],c&&j["movie__image--regular"],l&&j["movie__image--poster"],r&&j["movie__image--loaded"]),onLoad:()=>o(!0),onError:()=>{s?.current&&(s.current.src="/frontend-mentor-exercise-34-entertainment-web-app/assets/placeholder.svg")},src:i.small,alt:`Thumbnail for ${e.title} (${e.category}, ${e.year})`})]})}function be(){const{item:e,type:t}=R(),o=t==="trending"?e.thumbnail.trending:e.thumbnail.regular;return n.jsx("img",{className:h("radius-8px"),style:{maxHeight:"150px",width:"auto",maxWidth:"100px"},src:o.small,alt:`Thumbnail for ${e.title} (${e.category}, ${e.year})`})}function ct({className:e}){return n.jsx("svg",{width:"17",height:"20",xmlns:"http://www.w3.org/2000/svg",className:e,"aria-hidden":"true",fill:"currentColor",children:n.jsx("path",{d:"M15.387 0c.202 0 .396.04.581.119.291.115.522.295.694.542.172.247.258.52.258.82v17.038c0 .3-.086.573-.258.82a1.49 1.49 0 0 1-.694.542 1.49 1.49 0 0 1-.581.106c-.423 0-.79-.141-1.098-.423L8.46 13.959l-5.83 5.605c-.317.29-.682.436-1.097.436-.202 0-.396-.04-.581-.119a1.49 1.49 0 0 1-.694-.542A1.402 1.402 0 0 1 0 18.52V1.481c0-.3.086-.573.258-.82A1.49 1.49 0 0 1 .952.119C1.137.039 1.33 0 1.533 0h13.854Z",fill:"currentColor"})})}function ut({className:e}){return n.jsx("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",className:e,"aria-hidden":"true",fill:"currentColor",children:n.jsx("path",{d:"M20 4.481H9.08l2.7-3.278L10.22 0 7 3.909 3.78.029 2.22 1.203l2.7 3.278H0V20h20V4.481Zm-8 13.58H2V6.42h10v11.64Zm5-3.88h-2v-1.94h2v1.94Zm0-3.88h-2V8.36h2v1.94Z",fill:"currentColor"})})}function dt({className:e}){return n.jsx("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",className:e,"aria-hidden":"true",fill:"currentColor",children:n.jsx("path",{d:"M8 0H1C.4 0 0 .4 0 1v7c0 .6.4 1 1 1h7c.6 0 1-.4 1-1V1c0-.6-.4-1-1-1Zm0 11H1c-.6 0-1 .4-1 1v7c0 .6.4 1 1 1h7c.6 0 1-.4 1-1v-7c0-.6-.4-1-1-1ZM19 0h-7c-.6 0-1 .4-1 1v7c0 .6.4 1 1 1h7c.6 0 1-.4 1-1V1c0-.6-.4-1-1-1Zm0 11h-7c-.6 0-1 .4-1 1v7c0 .6.4 1 1 1h7c.6 0 1-.4 1-1v-7c0-.6-.4-1-1-1Z",fill:"currentColor"})})}function ht({className:e}){return n.jsx("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",className:e,"aria-hidden":"true",fill:"currentColor",children:n.jsx("path",{d:"M16.956 0H3.044A3.044 3.044 0 0 0 0 3.044v13.912A3.044 3.044 0 0 0 3.044 20h13.912A3.044 3.044 0 0 0 20 16.956V3.044A3.044 3.044 0 0 0 16.956 0ZM4 9H2V7h2v2Zm-2 2h2v2H2v-2Zm16-2h-2V7h2v2Zm-2 2h2v2h-2v-2Zm2-8.26V4h-2V2h1.26a.74.74 0 0 1 .74.74ZM2.74 2H4v2H2V2.74A.74.74 0 0 1 2.74 2ZM2 17.26V16h2v2H2.74a.74.74 0 0 1-.74-.74Zm16 0a.74.74 0 0 1-.74.74H16v-2h2v1.26Z",fill:"currentColor"})})}const je={"icon-bookmark-empty":"_icon-bookmark-empty_1jzqp_1","icon-bookmark-full":"_icon-bookmark-full_1jzqp_12"};function ft({className:e}){return n.jsx("svg",{width:"12",height:"14",xmlns:"http://www.w3.org/2000/svg",className:h(je["icon-bookmark-empty"],e),"aria-hidden":"true",strokeWidth:"1.5",children:n.jsx("path",{d:"m10.518.75.399 12.214-5.084-4.24-4.535 4.426L.75 1.036l9.768-.285Z"})})}function mt({className:e}){return n.jsx("svg",{width:"12",height:"14",xmlns:"http://www.w3.org/2000/svg",className:h(je["icon-bookmark-full"],e),"aria-hidden":"true",children:n.jsx("path",{d:"M10.61 0c.14 0 .273.028.4.083a1.03 1.03 0 0 1 .657.953v11.928a1.03 1.03 0 0 1-.656.953c-.116.05-.25.074-.402.074-.291 0-.543-.099-.756-.296L5.833 9.77l-4.02 3.924c-.218.203-.47.305-.756.305a.995.995 0 0 1-.4-.083A1.03 1.03 0 0 1 0 12.964V1.036A1.03 1.03 0 0 1 .656.083.995.995 0 0 1 1.057 0h9.552Z"})})}const pt=["navBookmark","navHome","navMovies","navTVSeries","bookmarkEmpty","bookmarkFull"],le={logo:new URL("data:image/svg+xml,%3csvg%20width='33'%20height='27'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m26.463.408%203.2%206.4h-4.8l-3.2-6.4h-3.2l3.2%206.4h-4.8l-3.2-6.4h-3.2l3.2%206.4h-4.8l-3.2-6.4h-1.6a3.186%203.186%200%200%200-3.184%203.2l-.016%2019.2a3.2%203.2%200%200%200%203.2%203.2h25.6a3.2%203.2%200%200%200%203.2-3.2V.408h-6.4Z'%20fill='%23FC4747'/%3e%3c/svg%3e",import.meta.url).href,categoryMovie:new URL("data:image/svg+xml,%3csvg%20width='12'%20height='12'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.173%200H1.827A1.827%201.827%200%200%200%200%201.827v8.346C0%2011.183.818%2012%201.827%2012h8.346A1.827%201.827%200%200%200%2012%2010.173V1.827A1.827%201.827%200%200%200%2010.173%200ZM2.4%205.4H1.2V4.2h1.2v1.2ZM1.2%206.6h1.2v1.2H1.2V6.6Zm9.6-1.2H9.6V4.2h1.2v1.2ZM9.6%206.6h1.2v1.2H9.6V6.6Zm1.2-4.956V2.4H9.6V1.2h.756a.444.444%200%200%201%20.444.444ZM1.644%201.2H2.4v1.2H1.2v-.756a.444.444%200%200%201%20.444-.444ZM1.2%2010.356V9.6h1.2v1.2h-.756a.444.444%200%200%201-.444-.444Zm9.6%200a.444.444%200%200%201-.444.444H9.6V9.6h1.2v.756Z'%20fill='%23FFF'%20opacity='.75'/%3e%3c/svg%3e",import.meta.url).href,categoryTV:new URL("data:image/svg+xml,%3csvg%20width='12'%20height='12'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%202.689H5.448L7.068.722%206.132%200%204.2%202.345%202.268.017l-.936.705%201.62%201.967H0V12h12V2.689Zm-4.8%208.147h-6V3.853h6v6.983Zm3-2.328H9V7.344h1.2v1.164Zm0-2.328H9V5.016h1.2V6.18Z'%20fill='%23FFF'%20opacity='.75'/%3e%3c/svg%3e",import.meta.url).href,play:new URL("data:image/svg+xml,%3csvg%20width='30'%20height='30'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15%200C6.713%200%200%206.713%200%2015c0%208.288%206.713%2015%2015%2015%208.288%200%2015-6.712%2015-15%200-8.287-6.712-15-15-15Zm-3%2021V8l9%206.5-9%206.5Z'%20fill='%23FFF'/%3e%3c/svg%3e",import.meta.url).href,search:new URL("data:image/svg+xml,%3csvg%20width='32'%20height='32'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M27.613%2025.72%2023.08%2021.2a10.56%2010.56%200%200%200%202.253-6.533C25.333%208.776%2020.558%204%2014.667%204S4%208.776%204%2014.667c0%205.89%204.776%2010.666%2010.667%2010.666A10.56%2010.56%200%200%200%2021.2%2023.08l4.52%204.533a1.333%201.333%200%200%200%201.893%200%201.333%201.333%200%200%200%200-1.893ZM6.667%2014.667a8%208%200%201%201%2016%200%208%208%200%200%201-16%200Z'%20fill='%23FFF'/%3e%3c/svg%3e",import.meta.url).href,bookmarkEmpty:ft,bookmarkFull:mt,navHome:dt,navMovies:ht,navTVSeries:ut,navBookmark:ct};function N({name:e,className:t,alt:r}){const o=le[e];if(pt.includes(e)&&typeof o!="string"){const s=le[e];return n.jsx(s,{className:t,"aria-label":r||e})}return n.jsx("img",{src:o,className:t,alt:r||e})}function ke({isTrailer:e}){const{item:t,type:r}=R(),o=r==="trending",s=t.category==="Movie";return n.jsxs("figcaption",{className:h("movie__caption flex gap-2 flex-col"),children:[n.jsxs("p",{className:h("flex justify-start items-center gap-2 text-white-75-custom",e?"text-preset-5 md:text-preset-3":o?"text-preset-5-mobile md:text-preset-4":"text-preset-6-mobile md:text-preset-5"),children:[t.year," •",n.jsx(N,{name:s?"navMovies":"navHome",className:"text-white-75-custom w-[12px] h-[12px]"}),t.category," • ",t.rating]}),n.jsx("h3",{className:h("text-white-custom",e?"text-preset-2-light md:text-preset-1":o?"text-preset-3-mobile md:text-preset-3":"text-preset-4-mobile md:text-preset-5"),children:t.title})]})}function vt(){const{item:e,fetchTrailer:t}=R();return n.jsx("div",{className:h(j.movie__play,"absolute inset-0 z-20 flex justify-center items-center"),children:n.jsx("button",{type:"button","aria-label":`Play trailer for ${e.title}`,onClick:t,className:h(j["movie__btn-play"],"flex justify-center items-center gap-2 radius-28px"),children:n.jsxs("span",{className:"flex flex-row gap-2 items-center border radius-28px p-2 text-preset-3-mobile md:text-preset-3",children:[n.jsx(N,{name:"play",className:"h-[20px] w-[20px]"}),n.jsx("span",{children:"Play"})]})})})}const xt=Ve;function gt(e){const t=`${e.category}-${e.id}`,r=xt(({bookmarks:o})=>o.data);return{idBookmark:t,isBookmarkHosted:!!r[t]}}const _t=()=>{const e=Ie();return a.useMemo(()=>Re(Fe,e),[e])};function yt(){const{item:e}=R(),{idBookmark:t,isBookmarkHosted:r}=gt(e),{addBookmark:o,deleteBookmark:s}=_t(),c=()=>{r?s(t):o(t,e)};return n.jsx("button",{type:"button","aria-label":e.isBookmarked?`Remove ${e.title} from bookmarks`:`Add ${e.title} to bookmarks`,onClick:c,className:h(j.movie__bookmark,"cursor-pointer flex justify-center items-center"),children:n.jsx(N,{className:h("w-[11px] h-[14px] z-40 text-black-custom hover:text-white-custom"),name:r?"bookmarkFull":"bookmarkEmpty"})})}function wt({children:e,onClose:t}){return a.useEffect(()=>{const r=o=>{o.key==="Escape"&&t()};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[t]),n.jsx("div",{className:h("fixed inset-0 z-50 bg-white-custom-30 flex items-center justify-center p-4"),onClick:t,children:n.jsxs("div",{className:"bg-black-custom rounded-lg p-4 min-w-[60%] max-w-[90%] max-h-[90%] relative",onClick:r=>r.stopPropagation(),children:[n.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-white-custom text-xl",children:"×"}),n.jsx("div",{className:"mt-5",children:e})]})})}function bt(){const{showModal:e,setShowModal:t,loading:r,error:o,trailerData:s}=R();return e?n.jsxs(wt,{onClose:()=>t(!1),children:[r&&n.jsx("p",{className:"text-white-custom text-preset-1",children:"Loading trailer..."}),!r&&o&&n.jsx("p",{className:"text-white-custom text-preset-1",children:"Error Loading trailer..."}),!r&&!o&&s?.key&&n.jsx("iframe",{className:"w-[80vw] h-[45vw] max-w-[960px] max-h-[540px]",src:`https://www.youtube.com/embed/${s.key}`,title:"YouTube trailer",allowFullScreen:!0}),!r&&!o&&!s?.key&&n.jsx("p",{className:"text-white-custom text-preset-1",children:"No trailer found."}),n.jsxs("div",{className:"mt-[20px] flex gap-5 items-start justify-start",children:[n.jsx(be,{}),n.jsx(ke,{isTrailer:!0})]})]}):null}const B=()=>new AbortController;function jt(e){const t=e.id,r=e.title||e.name||"Untitled",o=e.release_date||e.first_air_date||"0000",s=e.media_type==="movie"?"Movie":"TV Series",c="https://image.tmdb.org/t/p/w500",u="https://image.tmdb.org/t/p/original",l=e.poster_path?`${c}${e.poster_path}`:`${u}${e.backdrop_path}/assets/placeholder.svg`,i=e.backdrop_path?`${u}${e.backdrop_path}`:`${u}${e.backdrop_path}/assets/placeholder.svg`;return{id:t,title:r,year:parseInt(o.slice(0,4),10),category:s,rating:`${Math.round(e.vote_average*10)}/100`,isBookmarked:!1,isTrending:!1,thumbnail:{trending:{small:i,large:i},regular:{small:l,medium:l,large:l}}}}const kt="https://image.tmdb.org/t/p/w500",St="https://image.tmdb.org/t/p/original";function Se(e,t,r,o,s,c,u){const l=c?`${kt}${c}`:"/frontend-mentor-exercise-34-entertainment-web-app/assets/placeholder.svg",i=u?`${St}${u}`:"/frontend-mentor-exercise-34-entertainment-web-app/assets/placeholder.svg";return{id:e,title:t||"Untitled",year:r?parseInt(r.slice(0,4),10):0,category:o,rating:`${Math.round(s*10)}/100`,isBookmarked:!1,isTrending:!1,thumbnail:{trending:{small:i,large:i},regular:{small:l,medium:l,large:l}}}}function Me(e){return Se(e.id,e.title||e.original_title||"Untitled",e.release_date,"Movie",e.vote_average,e.poster_path,e.backdrop_path)}function Ne(e){return Se(e.id,e.name||e.original_name||"Untitled",e.first_air_date,"TV Series",e.vote_average,e.poster_path,e.backdrop_path)}function Mt(e){return{id:e.id|0,results:Nt(e.results??[])}}function Nt(e){return e.filter(t=>t.site==="YouTube"&&t.type==="Trailer"&&t.key?.trim()!=="").map(t=>({id:t.id,key:t.key,name:t.name,site:t.site,type:t.type}))}const Et="https://api.themoviedb.org/3",Tt="1f7db069c28319ca2df054e6ec6dda44",ce=new Map,$t=600*1e3;async function L(e,t,r={}){const o=new URL(e,Et);o.searchParams.set("api_key",Tt);const s=o.toString(),c=Date.now(),u=ce.get(s);if(u&&c<u.expiresAt)return u.data;const l=r.method||"GET",i=await fetch(s,{...r,signal:t.signal,method:l,headers:{"Content-Type":"application/json",...r.headers||{}}});if(!i.ok){const f=await i.json().catch(()=>({}));throw new Error(`API error ${i.status}: ${f.status_message||i.statusText}`)}const m=await i.json();return ce.set(s,{data:m,expiresAt:c+$t}),m}function Ct(){const e=B();return{call:L("3/trending/all/day",e).then(t=>t.results.map(jt)),controller:e}}function Lt([e=1,t=""]){const r=B(),o=t?`3/search/movie?query=${encodeURIComponent(t)}&page=${e}`:`3/movie/popular?page=${e}`,s=t?`3/search/tv?query=${encodeURIComponent(t)}&page=${e}`:`3/tv/popular?page=${e}`;return{call:Promise.all([L(o,r),L(s,r)]).then(([u,l])=>{const i=[...u.results.map(Me),...l.results.map(Ne)].sort((f,d)=>f.title.localeCompare(d.title)),m=e<Math.min(u.total_pages,l.total_pages);return{items:i,hasMore:m,totalPages:Math.min(u.total_pages,l.total_pages)}}),controller:r}}function pr([e=1,t=""]){const r=B(),o=t?`3/search/movie?query=${encodeURIComponent(t)}&page=${e}`:`3/movie/popular?page=${e}`;return{call:L(o,r).then(c=>{const u=c.results.map(Me).sort((i,m)=>i.title.localeCompare(m.title)),l=e<c.total_pages;return{items:u,hasMore:l,totalPages:c.total_pages}}),controller:r}}function vr([e=1,t=""]){const r=B(),o=t?`3/search/tv?query=${encodeURIComponent(t)}&page=${e}`:`3/tv/popular?page=${e}`;return{call:L(o,r).then(c=>{const u=c.results.map(Ne).sort((i,m)=>i.title.localeCompare(m.title)),l=e<c.total_pages;return{items:u,hasMore:l,totalPages:c.total_pages}}),controller:r}}function Vt([e=0,t="tv"]){const r=B(),o=`3/${t}/${e}/videos`;return{call:L(o,r).then(c=>({key:Mt(c).results.find(l=>l.type==="Trailer"&&l.site==="YouTube"&&l.key)?.key??null})),controller:r}}const Y=(e,t)=>{const[r,o]=a.useState(!1),[s,c]=a.useState(!1),[u,l]=a.useState(null),[i,m]=a.useState(null),f=a.useRef(null),d=a.useCallback(v=>{f.current&&f.current.abort();const{call:g,controller:b}=e(v);f.current=b,c(!0),g.then(x=>{l(x),m(null)}).catch(x=>{x.name!=="AbortError"&&m(x)}).finally(()=>{c(!1)})},[e]);return a.useEffect(()=>t?.autoFetch&&!r?(f.current&&f.current.abort(),o(!0),d(t.params)):()=>{f.current},[d,t?.autoFetch,t?.params,r]),{loading:s,data:u,error:i,fetch:d,controller:f.current}};function It(e=0){const t=a.useRef(null);return a.useEffect(()=>{if(!t.current)return;const r=t.current,o=new IntersectionObserver(([s])=>{s.isIntersecting&&(r.style.transitionDelay=`${e}ms`,r.classList.add("fade-in"),o.unobserve(r))},{threshold:.1});return o.observe(r),()=>o.disconnect()},[e]),t}const k=({item:e,type:t,children:r})=>{const o=It(100),[s,c]=a.useState(!1),[u,l]=a.useState(!1),i=e.category==="Movie",m=t==="regular",f=t==="trending",d=t==="poster",v=a.useMemo(()=>[e.id,i?"movie":"tv"],[e,i]),{loading:g,error:b,data:x,fetch:_,controller:S}=Y(Vt,{autoFetch:!1,params:v}),y=a.useCallback(()=>{S&&S.abort(),_(v),l(!0)},[_,S,v]),F={item:e,type:t,isLoaded:s,setIsLoaded:c,showModal:u,setShowModal:l,fetchTrailer:y,trailerData:x,loading:g,error:b};return n.jsxs(we.Provider,{value:F,children:[n.jsx("figure",{ref:o,className:h("fade-start",j.movie,m&&j["movie--regular"],f&&j["movie--trending"],d&&j["movie--poster"]),children:r}),u&&n.jsx(k.Modal,{})]})};k.Image=lt;k.Thumbnail=be;k.Caption=ke;k.PlayButton=vt;k.Bookmark=yt;k.Modal=bt;const G=a.forwardRef(({title:e,items:t,sectionType:r,ariaLabel:o,showWhenEmpty:s=!1,emptyMessage:c="No results found.",isPaginated:u=!1,hasMore:l=!1,onLoadMore:i=()=>{},currentPage:m=1,totalPages:f=1,onPageChange:d=()=>{},loading:v=!1,loadingMessage:g="Loading ...",error:b=!1,errorMessage:x="Loading Error"},_)=>{const S=()=>{const y=[],Ee=Math.floor(2.5),re=Math.max(1,m-Ee),Te=Math.min(f,re+5-1);for(let U=re;U<=Te;U++)y.push(U);return y};return n.jsxs("div",{ref:_,className:"media-section my-6",children:[n.jsx("h2",{className:"my-[24px] text-white-custom text-preset-1-mobile lg:text-preset-1",children:e}),n.jsx("section",{tabIndex:0,role:"region","aria-label":o,className:h("gap-5",r==="trending"?"grid-result grid-result--trending":"grid grid-result grid-result--regular"),style:{WebkitOverflowScrolling:"touch"},children:t.length===0&&s?n.jsx("p",{className:"text-blue-500 text-preset-3 my-[24px]",children:c}):t.map(y=>n.jsxs(k,{item:y,type:r,children:[n.jsx(k.Image,{}),n.jsx(k.Caption,{}),n.jsx(k.PlayButton,{}),n.jsx(k.Bookmark,{})]},`${y.category}-${y.id??""}-${y.title}`))}),u&&!l&&f>1&&!v&&n.jsxs("div",{className:h(ae["media-section--pagination"],"mt-6 text-white-custom flex justify-center items-center gap-5"),children:[n.jsx("button",{className:"px-4 py-3 rounded bg-gray-700 hover:bg-gray-600 disabled:opacity-50 text-preset-3-mobile md:text-preset-3",disabled:m===1,onClick:()=>d(m-1),children:"Prev"}),S().map(y=>n.jsx("button",{className:h(ae["media-section--page"],"px-4 py-3 text-preset-5-mobile md:text-preset-3",y===m?"bg-white text-black":"bg-gray-700 hover:bg-gray-600"),onClick:()=>d(y),children:y},y)),n.jsx("button",{className:"px-4 py-3 rounded bg-gray-700 hover:bg-gray-600 disabled:opacity-50 text-preset-3-mobile md:text-preset-3",disabled:m===f,onClick:()=>d(m+1),children:"Next"})]}),u&&l&&!v&&n.jsx("div",{className:"mt-6 flex justify-center text-preset-3",children:n.jsx("button",{onClick:i,className:"px-6 py-2 rounded bg-white text-black hover:bg-gray-200 transition",children:"Load More"})}),v&&n.jsx("p",{className:"text-center text-white-custom mt-4 text-preset-3",children:g}),!v&&b&&n.jsx("p",{className:"text-center text-red-500 mt-4 text-preset-3",children:x})]})});G.displayName="MovieSection";const Rt=e=>({value:e,onInput:t=>{t.preventDefault(),e.value=t.currentTarget.value}});function Ft({placeholder:e,className:t,searchTerm:r}){const o=a.useRef(null);return n.jsxs("div",{className:h(t,"flex flex-row gap-4 justify-center items-center text-white-custom"),children:[n.jsx(N,{name:"search",className:h("w-[24px] h-[24px] lg:w-[32px] lg:h-[32px]")}),n.jsx("input",{ref:o,className:"grow-1 shrink-1 p-1 text-preset-2-mobile lg:text-preset-2-light",type:"text",placeholder:e||"",onFocus:()=>o.current?.select(),...Rt(r)})]})}function At(e,t=300){const r=_e(e.value);return a.useEffect(()=>{const o=setTimeout(()=>{r.value=e.value},t);return()=>clearTimeout(o)},[e.value,t,r]),r}function Bt(e){const t=_e(""),r=At(t,500),o=a.useMemo(()=>{const s=r.value.toLowerCase();return s.length===0?e:e.filter(c=>c.title.toLowerCase().includes(s))},[e,r.value]);return{searchTerm:t,debouncedSearchTerm:r,filteredItems:o}}function Zt(){nt();const e=a.useRef(null),[t,r]=a.useState(!1),[o,s]=a.useState(1),[c,u]=a.useState(""),{loading:l,error:i,data:m}=Y(Ct,{autoFetch:!0,params:1}),{loading:f,error:d,data:v,fetch:g,controller:b}=Y(Lt,{autoFetch:!0,params:[1,c]}),{searchTerm:x,debouncedSearchTerm:_,filteredItems:S}=Bt(v?.items??[]);a.useEffect(()=>{_.value!==c&&(b&&b.abort(),u(_.value),s(1),g([1,_.value]))},[_.value,c,g,b]),a.useEffect(()=>{t&&e.current&&(e.current.scrollIntoView({behavior:"smooth"}),r(!1))},[t,S]);const y=()=>f?"":S.length===0?"No movies or TV Series found":S.length>0&&_.value.length>0?`Found ${v?.totalPages} page${v?.totalPages?"s":""} for '${_.value}'`:"Recommended for you";return n.jsxs("section",{className:"mt-[24px] mx-[16px]",children:[n.jsx(Ft,{placeholder:"Search for movies or TV Series",searchTerm:x}),_.value.length===0&&n.jsx(G,{title:"Trending",items:m||[],sectionType:"trending",ariaLabel:"Trending",loading:l,loadingMessage:"Loading trending ...",error:!!i,errorMessage:`Loading Error Trending: ${i}`}),n.jsx(G,{ref:e,title:y(),items:S,sectionType:"poster",ariaLabel:"Movie or TV Series list",isPaginated:!0,currentPage:o,totalPages:v?.totalPages??1,onPageChange:F=>{s(F),g([F,_.value]),r(!0)},loading:f,loadingMessage:"Loading movies and TV Series recommended ...",error:!!d,errorMessage:`Movies and TV Series Error: ${d}`})]})}const Ht="_ml_4rnc9_1",Pt="_ml__header_4rnc9_12",qt="_ml__main_4rnc9_16",Ut="_ml__footer_4rnc9_20",H={ml:Ht,ml__header:Pt,ml__main:qt,ml__footer:Ut};function Ot({className:e}){return n.jsxs("footer",{className:h("text-center py-4 text-gray-500 text-xs",e),children:["Challenge by",n.jsx("a",{className:"m-0.5 ",href:"https://www.frontendmentor.io/profile/barriedirk/solutions",target:"_blank",rel:"noopener","aria-label":"View solutions by Barrie Freyre on Frontend Mentor",children:"Frontend Mentor"}),". Coded by",n.jsx("a",{className:"m-0.5",href:"https://www.linkedin.com/in/barriefreyre/",target:"_blank",rel:"noopener","aria-label":"Visit Barrie Freyre's LinkedIn profile",children:"Barrie Freyre"}),"."]})}const Dt="_header_vlxlq_1",Kt="_header__link_vlxlq_11",zt="_header__avatar_vlxlq_16",Wt="_header__logout_vlxlq_23",Yt="_header__profile_vlxlq_27",Gt="_header__options_vlxlq_31",Jt="_expanded_vlxlq_44",E={header:Dt,header__link:Kt,header__avatar:zt,header__logout:Wt,header__profile:Yt,header__options:Gt,expanded:Jt};function P(e,t,r){a.useEffect(()=>{const o=s=>{const c=s.target?.tagName;if(["INPUT","TEXTAREA","SELECT"].includes(c)||s.target?.isContentEditable)return;const l=s.key.toLowerCase()===e.toLowerCase(),i=(r??[]).every(f=>{switch(f){case"ctrl":return s.ctrlKey;case"alt":return s.altKey;case"meta":return s.metaKey;case"shift":return s.shiftKey;default:return!1}}),m=s.ctrlKey===!!r?.includes("ctrl")&&s.altKey===!!r?.includes("alt")&&s.metaKey===!!r?.includes("meta")&&s.shiftKey===!!r?.includes("shift");l&&i&&m&&(s.preventDefault(),t())};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[e,t,r?.join(",")])}function Xt({className:e,alt:t}){const r=new URL("/frontend-mentor-exercise-34-entertainment-web-app/assets/image-avatar-Bwno4jNK.png",import.meta.url).href;return n.jsx("img",{src:r,className:e,alt:t})}function Qt({className:e}){const t=Ae(),[r,o]=a.useState(!1),s=a.useRef(null);a.useEffect(()=>{const i=m=>{m.key==="Escape"&&o(!1)};return r&&window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[r]),a.useEffect(()=>{r&&s.current&&s.current.querySelector("#profile-options button")?.focus()},[r]),P("h",()=>t("/"),["alt"]),P("m",()=>t("/movies"),[]),P("t",()=>t("/tv"),["alt"]),P("b",()=>t("/bookmarks"),["alt"]);const c=async()=>{await Ze.auth.signOut(),window.location.reload()},u=()=>{o(i=>!i)},l=h("focus:outline-none focus-visible:ring-2 focus-visible:ring-white hover:text-red-500",E.header__link);return n.jsxs("header",{className:h(e,"flex flex-row justify-between items-center lg:flex-col lg:h-[90dvh] lg:max-h-[800px] lg:w-[96px] lg:justify-start lg:gap-16",E.header),children:[n.jsx(Be,{className:"",to:"/","aria-label":"Home",children:n.jsx(N,{name:"logo"})}),n.jsxs("nav",{className:h("flex flex-row justify-center items-center gap-8 lg:flex-col",E.header__nav),"aria-label":"Primary navigation",children:[n.jsx(Z,{to:"/","aria-label":"Home",className:({isActive:i})=>h("h-[20px] w-[20px]",l,i&&"text-white hover:text-white",!i&&"text-blue-500"),children:n.jsx(N,{className:"h-[20px] w-[20px]",name:"navHome"})}),n.jsx(Z,{className:({isActive:i})=>h("h-[20px] w-[20px]",l,i&&"text-white hover:text-white",!i&&"text-blue-500"),to:"/movies","aria-label":"Category: Movies",children:n.jsx(N,{className:"h-[20px] w-[20px]",name:"navMovies"})}),n.jsx(Z,{className:({isActive:i})=>h("h-[20px] w-[20px]",l,i&&"text-white hover:text-white",!i&&"text-blue-500"),to:"/tv-series","aria-label":"Category: TV",children:n.jsx(N,{className:"h-[20px] w-[20px]",name:"navTVSeries"})}),n.jsx(Z,{className:({isActive:i})=>h("h-[20px] w-[20px]",l,i&&"text-white hover:text-white",!i&&"text-blue-500"),to:"/bookmarks","aria-label":"Bookmark",children:n.jsx(N,{className:"h-[20px] w-[20px]",name:"navBookmark"})})]}),n.jsxs("div",{className:h(E.header__profile,{[E.expanded]:r},"flex justify-center items-center lg:mt-auto"),ref:s,children:[n.jsx("button",{className:"w-fit h-fit",onClick:u,"aria-haspopup":"true","aria-expanded":r,"aria-controls":"profile-options",children:n.jsx(Xt,{className:h(E.header__avatar)})}),n.jsx("div",{id:"profile-options",className:h(E.header__options),"aria-label":"Profile Options",role:"group","aria-expanded":r,children:n.jsx("button",{className:h(E.header__logout,"header__profile--logout text-preset-4"),onClick:()=>c(),children:"Logout"})})]})]})}function er(){return n.jsxs("div",{className:h(H.ml),children:[n.jsx(Qt,{className:h(H.ml__header)}),n.jsx("main",{className:h(H.ml__main),children:n.jsx(J,{})}),n.jsx(Ot,{className:h(H.ml__footer)})]})}function tr(e){const t=a.useRef(null);a.useEffect(()=>(t.current=document.body.style.cssText,document.body.style.cssText=e,()=>{document.body.style.cssText=t.current??""}),[])}function rr(){return n.jsx("header",{children:n.jsx(N,{name:"logo"})})}function nr({className:e}){return n.jsxs("footer",{className:h("text-center mt-auto py-4 text-gray-500 text-xs",e),children:["Challenge by",n.jsx("a",{className:"m-0.5 ",href:"https://www.frontendmentor.io/profile/barriedirk/solutions",target:"_blank",rel:"noopener","aria-label":"View solutions by Barrie Freyre on Frontend Mentor",children:"Frontend Mentor"}),". Coded by",n.jsx("a",{className:"m-0.5",href:"https://www.linkedin.com/in/barriefreyre/",target:"_blank",rel:"noopener","aria-label":"Visit Barrie Freyre's LinkedIn profile",children:"Barrie Freyre"}),"."]})}function or(){return tr("background-color: var(--clr-blue-950);"),n.jsxs("div",{className:"auth-wrapper",children:[n.jsx(rr,{}),n.jsx("main",{className:"auth-layout",children:n.jsx(J,{})}),n.jsx(nr,{})]})}const sr=a.lazy(()=>V(()=>import("./Login-Cm97H7t1.js"),__vite__mapDeps([0,1,2,3,4,5]))),ir=a.lazy(()=>V(()=>import("./SignUp-hfBbZMv_.js"),__vite__mapDeps([6,1,2,3,4,7]))),ar=a.lazy(()=>V(()=>import("./Mockup-Bbya2gzm.js"),__vite__mapDeps([8,1,2,9]))),lr=a.lazy(()=>V(()=>import("./Movies-izRQsBQc.js"),__vite__mapDeps([10,1,2]))),cr=a.lazy(()=>V(()=>import("./TVSeries-Vc2Y9ApI.js"),__vite__mapDeps([11,1,2]))),ur=a.lazy(()=>V(()=>import("./Bookmarks-lka4iGoT.js"),__vite__mapDeps([12,1,2])));function dr(){return n.jsx(a.Suspense,{fallback:n.jsx("div",{children:"Loading..."}),children:n.jsxs(He,{children:[n.jsxs(M,{element:n.jsx(or,{}),children:[n.jsx(M,{path:"/login",element:n.jsx(sr,{})}),n.jsx(M,{path:"/signup",element:n.jsx(ir,{})})]}),n.jsx(M,{element:n.jsx(qe,{}),children:n.jsxs(M,{path:"/",element:n.jsx(er,{}),children:[n.jsx(M,{index:!0,element:n.jsx(Zt,{})}),n.jsx(M,{path:"mockup",element:n.jsx(ar,{})}),n.jsx(M,{path:"movies",element:n.jsx(lr,{})}),n.jsx(M,{path:"tv-series",element:n.jsx(cr,{})}),n.jsx(M,{path:"bookmarks",element:n.jsx(ur,{})})]})})]})})}const xr=Object.freeze(Object.defineProperty({__proto__:null,default:dr},Symbol.toStringTag,{value:"Module"}));export{xr as A,k as M,Ft as S,At as a,mr as b,fr as c,h as d,Y as e,pr as f,Bt as g,G as h,vr as i,xt as j,nt as k,_e as u};
