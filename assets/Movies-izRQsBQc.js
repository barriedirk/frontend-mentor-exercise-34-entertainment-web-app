import{r as t,j as n}from"./index-GU3RhaxD.js";import{k as x,e as M,f as P,g as j,S as E,h as T}from"./App-D6WfJWrk.js";function R(){x();const a=t.useRef(null),[u,c]=t.useState(!1),[d,f]=t.useState(1),[o,v]=t.useState(""),{loading:h,error:g,data:s,fetch:i,controller:l}=M(P,{autoFetch:!0,params:[1,o]}),{searchTerm:p,debouncedSearchTerm:e,filteredItems:r}=j(s?.items??[]);t.useEffect(()=>{e.value!==o&&(l&&l.abort(),v(e.value),f(1),i([1,e.value]))},[e.value,o,i,l]),t.useEffect(()=>{u&&a.current&&(a.current.scrollIntoView({behavior:"smooth"}),c(!1))},[u,r]);const S=()=>h?"":r.length===0?"No movies found":r.length>0&&e.value.length>0?`Found ${s?.totalPages} page${s?.totalPages?"s":""} for '${e.value}'`:"Movies";return n.jsxs("section",{className:"mt-[24px] mx-[16px]",children:[n.jsx(E,{placeholder:"Search for movies",searchTerm:p}),n.jsx(T,{ref:a,title:S(),items:r,sectionType:"poster",ariaLabel:"Movie list",isPaginated:!0,currentPage:d,totalPages:s?.totalPages??1,onPageChange:m=>{f(m),i([m,e.value]),c(!0)},loading:h,loadingMessage:"Loading movies ...",error:!!g,errorMessage:`Movies Error: ${g}`})]})}export{R as default};
