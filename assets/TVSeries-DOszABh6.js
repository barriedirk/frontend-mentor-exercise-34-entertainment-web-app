import{r as t,j as n}from"./index-Dtn3ftiv.js";import{k as T,e as v,i as V,g as P,S as M,h as j}from"./App-_ZMzlsTS.js";function $(){T();const a=t.useRef(null),[u,c]=t.useState(!1),[d,f]=t.useState(1),[o,m]=t.useState(""),{loading:h,error:S,data:r,fetch:i,controller:l}=v(V,{autoFetch:!0,params:[1,o]}),{searchTerm:p,debouncedSearchTerm:e,filteredItems:s}=P(r?.items??[]);t.useEffect(()=>{e.value!==o&&(l&&l.abort(),m(e.value),f(1),i([1,e.value]))},[e.value,o,i,l]),t.useEffect(()=>{u&&a.current&&(a.current.scrollIntoView({behavior:"smooth"}),c(!1))},[u,s]);const x=()=>h?"":s.length===0?"No TV Series found":s.length>0&&e.value.length>0?`Found ${r?.totalPages} page${r?.totalPages?"s":""} for '${e.value}'`:"TV Series";return n.jsxs("section",{className:"mt-[24px] mx-[16px]",children:[n.jsx(M,{placeholder:"Search for TV Series",searchTerm:p}),n.jsx(j,{ref:a,title:x(),items:s,sectionType:"poster",ariaLabel:"TV Series list",isPaginated:!0,currentPage:d,totalPages:r?.totalPages??1,onPageChange:g=>{f(g),i([g,e.value]),c(!0)},loading:h,loadingMessage:"Loading TV Series ...",error:!!S,errorMessage:`TV Series Error: ${S}`})]})}export{$ as default};
