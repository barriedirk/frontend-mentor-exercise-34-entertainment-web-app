import{r as k,j as v}from"./index-DqjJds7P.js";import{j as E,k as N,g as I,S as $,h as z}from"./App-CSeRhxyu.js";function B(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function O(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function W(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(s=>typeof s=="function"?`function ${s.name||"unnamed"}()`:typeof s).join(", ");throw new TypeError(`${t}[${n}]`)}}var S=e=>Array.isArray(e)?e:[e];function A(e){const t=Array.isArray(e[0])?e[0]:e;return W(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function D(e,t){const n=[],{length:s}=e;for(let a=0;a<s;a++)n.push(e[a].apply(null,t));return n}var F=class{constructor(e){this.value=e}deref(){return this.value}},L=typeof WeakRef<"u"?WeakRef:F,V=0,g=1;function h(){return{s:V,v:void 0,o:null,p:null}}function j(e,t={}){let n=h();const{resultEqualityCheck:s}=t;let a,r=0;function c(){let o=n;const{length:l}=arguments;for(let f=0,y=l;f<y;f++){const d=arguments[f];if(typeof d=="function"||typeof d=="object"&&d!==null){let i=o.o;i===null&&(o.o=i=new WeakMap);const m=i.get(d);m===void 0?(o=h(),i.set(d,o)):o=m}else{let i=o.p;i===null&&(o.p=i=new Map);const m=i.get(d);m===void 0?(o=h(),i.set(d,o)):o=m}}const p=o;let u;if(o.s===g)u=o.v;else if(u=e.apply(null,arguments),r++,s){const f=a?.deref?.()??a;f!=null&&s(f,u)&&(u=f,r!==0&&r--),a=typeof u=="object"&&u!==null||typeof u=="function"?new L(u):u}return p.s=g,p.v=u,u}return c.clearCache=()=>{n=h(),c.resetResultsCount()},c.resultsCount=()=>r,c.resetResultsCount=()=>{r=0},c}function q(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,s=(...a)=>{let r=0,c=0,o,l={},p=a.pop();typeof p=="object"&&(l=p,p=a.pop()),B(p,`createSelector expects an output function after the inputs, but received: [${typeof p}]`);const u={...n,...l},{memoize:f,memoizeOptions:y=[],argsMemoize:d=j,argsMemoizeOptions:i=[]}=u,m=S(y),x=S(i),R=A(a),b=f(function(){return r++,p.apply(null,arguments)},...m),T=d(function(){c++;const M=D(R,arguments);return o=b.apply(null,M),o},...x);return Object.assign(T,{resultFunc:p,memoizedResultFunc:b,dependencies:R,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>o,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:f,argsMemoize:d})};return Object.assign(s,{withTypes:()=>s}),s}var w=q(j),K=Object.assign((e,t=w)=>{O(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),s=n.map(r=>e[r]);return t(s,(...r)=>r.reduce((c,o,l)=>(c[n[l]]=o,c),{}))},{withTypes:()=>K});const P=e=>e.bookmarks.list,U=e=>e.bookmarks.data,G=w([P,U],(e,t)=>e.map(n=>t[n]??null).filter(Boolean));function H(){return E(G)}function X(){N();const e=H(),t=k.useRef(null),[n,s]=k.useState(!1),{searchTerm:a,debouncedSearchTerm:r,filteredItems:c}=I(e??[]);k.useEffect(()=>{n&&t.current&&(t.current.scrollIntoView({behavior:"smooth"}),s(!1))},[n,c]);const o=()=>{const l=c.length;return l===0?"No bookmarks found":l>0&&r.value.length>0?`Found ${l} bookmark${l?"s":""} for '${r.value}'`:"Bookmarks"};return v.jsxs("section",{className:"mt-[24px] mx-[16px]",children:[v.jsx($,{placeholder:"Search for bookmarks",searchTerm:a}),v.jsx(z,{ref:t,title:o(),items:c,sectionType:"poster",ariaLabel:"Bookmark list"})]})}export{X as default};
