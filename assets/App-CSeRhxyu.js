const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-Dh5GxdtT.js","assets/index-DqjJds7P.js","assets/index-CExrXXYs.css","assets/useFocusFirstInput-BvUo3bnT.js","assets/useFocusFirstInput-CRRWIm_J.css","assets/Login-BcdBs02Z.css","assets/SignUp-BLJuFNCV.js","assets/SignUp-CRd-5fGV.css","assets/Mockup-CnQEoZjc.js","assets/Mockup-tn0RQdqM.css","assets/Movies-Bq9AG0Gp.js","assets/TVSeries-CHfX_0py.js","assets/Bookmarks-KefuMTzB.js"])))=>i.map(i=>d[i]);
import{r as a,A as Re,j as n,O as ee,N as Fe,a as Ae,u as Be,b as Ze,c as He,d as Pe,e as qe,L as Ue,f as Z,s as Oe,R as De,g as M,_ as V}from"./index-DqjJds7P.js";function Ke(){return a.useContext(Re)}function ze(){const{user:e,loading:t}=Ke();return t?n.jsx("div",{children:"Loading..."}):e?n.jsx(ee,{}):n.jsx(Fe,{to:"/login",replace:!0})}var We=Symbol.for("preact-signals");function te(){if(L>1)L--;else{for(var e,t=!1;A!==void 0;){var r=A;for(A=void 0,Y++;r!==void 0;){var o=r.o;if(r.o=void 0,r.f&=-3,!(8&r.f)&&pe(r))try{r.c()}catch(s){t||(e=s,t=!0)}r=o}}if(Y=0,L--,t)throw e}}var p=void 0;function he(e){var t=p;p=void 0;try{return e()}finally{p=t}}var A=void 0,L=0,Y=0,U=0;function fe(e){if(p!==void 0){var t=e.n;if(t===void 0||t.t!==p)return t={i:0,S:e,p:p.s,n:void 0,t:p,e:void 0,x:void 0,r:t},p.s!==void 0&&(p.s.n=t),p.s=t,e.n=t,32&p.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=p.s,t.n=void 0,p.s.n=t,p.s=t),t}}function w(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=t?.watched,this.Z=t?.unwatched}w.prototype.brand=We;w.prototype.h=function(){return!0};w.prototype.S=function(e){var t=this,r=this.t;r!==e&&e.e===void 0&&(e.x=r,this.t=e,r!==void 0?r.e=e:he(function(){var o;(o=t.W)==null||o.call(t)}))};w.prototype.U=function(e){var t=this;if(this.t!==void 0){var r=e.e,o=e.x;r!==void 0&&(r.x=o,e.e=void 0),o!==void 0&&(o.e=r,e.x=void 0),e===this.t&&(this.t=o,o===void 0&&he(function(){var s;(s=t.Z)==null||s.call(t)}))}};w.prototype.subscribe=function(e){var t=this;return ne(function(){var r=t.value,o=p;p=void 0;try{e(r)}finally{p=o}})};w.prototype.valueOf=function(){return this.value};w.prototype.toString=function(){return this.value+""};w.prototype.toJSON=function(){return this.value};w.prototype.peek=function(){var e=p;p=void 0;try{return this.value}finally{p=e}};Object.defineProperty(w.prototype,"value",{get:function(){var e=fe(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(Y>100)throw new Error("Cycle detected");this.v=e,this.i++,U++,L++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{te()}}}});function me(e,t){return new w(e,t)}function pe(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function ve(e){for(var t=e.s;t!==void 0;t=t.n){var r=t.S.n;if(r!==void 0&&(t.r=r),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function xe(e){for(var t=e.s,r=void 0;t!==void 0;){var o=t.p;t.i===-1?(t.S.U(t),o!==void 0&&(o.n=t.n),t.n!==void 0&&(t.n.p=o)):r=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=o}e.s=r}function $(e,t){w.call(this,void 0),this.x=e,this.s=void 0,this.g=U-1,this.f=4,this.W=t?.watched,this.Z=t?.unwatched}$.prototype=new w;$.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===U))return!0;if(this.g=U,this.f|=1,this.i>0&&!pe(this))return this.f&=-2,!0;var e=p;try{ve(this),p=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(r){this.v=r,this.f|=16,this.i++}return p=e,xe(this),this.f&=-2,!0};$.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}w.prototype.S.call(this,e)};$.prototype.U=function(e){if(this.t!==void 0&&(w.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};$.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};Object.defineProperty($.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=fe(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function Ye(e,t){return new $(e,t)}function ge(e){var t=e.u;if(e.u=void 0,typeof t=="function"){L++;var r=p;p=void 0;try{t()}catch(o){throw e.f&=-2,e.f|=8,re(e),o}finally{p=r,te()}}}function re(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,ge(e)}function Ge(e){if(p!==this)throw new Error("Out-of-order effect");xe(this),p=e,this.f&=-2,8&this.f&&re(this),te()}function I(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}I.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};I.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,ge(this),ve(this),L++;var e=p;return p=this,Ge.bind(this,e)};I.prototype.N=function(){2&this.f||(this.f|=2,this.o=A,A=this)};I.prototype.d=function(){this.f|=8,1&this.f||re(this)};I.prototype.dispose=function(){this.d()};function ne(e){var t=new I(e);try{t.c()}catch(o){throw t.d(),o}var r=t.d.bind(t);return r[Symbol.dispose]=r,r}var D={exports:{}},K={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ie;function Je(){if(ie)return K;ie=1;var e=Ae();function t(h,v){return h===v&&(h!==0||1/h===1/v)||h!==h&&v!==v}var r=typeof Object.is=="function"?Object.is:t,o=e.useState,s=e.useEffect,c=e.useLayoutEffect,u=e.useDebugValue;function l(h,v){var g=v(),b=o({inst:{value:g,getSnapshot:v}}),x=b[0].inst,_=b[1];return c(function(){x.value=g,x.getSnapshot=v,i(x)&&_({inst:x})},[h,g,v]),s(function(){return i(x)&&_({inst:x}),h(function(){i(x)&&_({inst:x})})},[h]),u(g),g}function i(h){var v=h.getSnapshot;h=h.value;try{var g=v();return!r(h,g)}catch{return!0}}function m(h,v){return v()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:l;return K.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,K}var ae;function Xe(){return ae||(ae=1,D.exports=Je()),D.exports}var Qe=Xe(),et=a.version.split(".").map(Number)[0],oe=[],tt=Symbol.for(et>=19?"react.transitional.element":"react.element"),T,_e=Symbol.dispose||Symbol.for("Symbol.dispose");function z(e,t){var r=t.effect.S();return T=t,rt.bind(t,e,r)}function rt(e,t){t(),T=e}var le,G,ce=function(){},nt=((le={o:0,effect:{s:void 0,c:function(){},S:function(){return ce},d:function(){}},subscribe:function(){return ce},getSnapshot:function(){return 0},S:function(){},f:function(){}})[_e]=function(){},le),ot=Promise.prototype.then.bind(Promise.resolve());function st(){G||(G=ot(ye))}function ye(){var e;G=void 0,(e=T)==null||e.f()}var it=typeof window<"u"?a.useLayoutEffect:a.useEffect;function we(e){e===void 0&&(e=0),st();var t=a.useRef();t.current==null&&(typeof window>"u"?t.current=nt:t.current=(function(o){var s,c,u,l,i=0,m=ne(function(){c=this});return c.c=function(){i=i+1|0,l&&l()},(s={o,effect:c,subscribe:function(f){return l=f,function(){i=i+1|0,l=void 0,m()}},getSnapshot:function(){return i},S:function(){if(T!=null){var f=T.o,h=this.o;f==0&&h==0||f==0&&h==1?(T.f(),u=z(void 0,this)):f==1&&h==0||f==2&&h==0||(u=z(T,this))}else u=z(void 0,this)},f:function(){var f=u;u=void 0,f?.()}})[_e]=function(){this.f()},s})(e));var r=t.current;return Qe.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot),r.S(),e===0&&it(ye),r}Object.defineProperties(w.prototype,{$$typeof:{configurable:!0,value:tt},type:{configurable:!0,value:function(e){var t=e.data,r=we(1);try{return t.value}finally{r.f()}}},props:{configurable:!0,get:function(){return{data:this}}},ref:{configurable:!0,value:null}});function be(e){return we(e)}function je(e,t){return a.useMemo(function(){return me(e,t)},oe)}function vr(e,t){var r=a.useRef(e);return r.current=e,a.useMemo(function(){return Ye(function(){return r.current()},t)},oe)}function xr(e){var t=a.useRef(e);t.current=e,a.useEffect(function(){return ne(function(){return t.current()})},oe)}function ke(e){var t,r,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=ke(e[t]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}function d(){for(var e,t,r=0,o="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=ke(e))&&(o&&(o+=" "),o+=t);return o}const W={"media-section--list":"_media-section--list_wb5md_1","media-section--page":"_media-section--page_wb5md_26"},at="_movie_15qnu_1",lt="_movie__image_15qnu_9",ct="_movie__play_15qnu_54",ut="_movie__bookmark_15qnu_92",j={movie:at,movie__image:lt,"movie__image--loaded":"_movie__image--loaded_15qnu_22","movie__image--trending":"_movie__image--trending_15qnu_27","movie__image--regular":"_movie__image--regular_15qnu_28","movie__image--poster":"_movie__image--poster_15qnu_29","movie--poster":"_movie--poster_15qnu_46","movie--regular":"_movie--regular_15qnu_47",movie__play:ct,"movie__btn-play":"_movie__btn-play_15qnu_65","movie--trending":"_movie--trending_15qnu_69",movie__bookmark:ut},Se=a.createContext(void 0);function R(){const e=a.useContext(Se);if(!e)throw new Error("Movie compound components must be inside <Movie>");return e}function dt(){const{item:e,type:t,isLoaded:r,setIsLoaded:o}=R(),s=a.useRef(null),c=t==="regular",u=t==="trending",l=t==="poster",i=u?e.thumbnail.trending:e.thumbnail.regular;return n.jsxs("picture",{className:j.movie__picture,children:[u?n.jsx("source",{media:"(min-width:900px)",srcSet:i.large}):n.jsxs(n.Fragment,{children:[n.jsx("source",{media:"(min-width:900px)",srcSet:i.large}),n.jsx("source",{media:"(min-width:500px)",srcSet:e.thumbnail.regular.medium})]}),n.jsx("img",{ref:s,loading:"lazy",className:d(j.movie__image,"radius-8px",u&&j["movie__image--trending"],c&&j["movie__image--regular"],l&&j["movie__image--poster"],r&&j["movie__image--loaded"]),onLoad:()=>o(!0),onError:()=>{s?.current&&(s.current.src="/frontend-mentor-exercise-34-entertainment-web-app/assets/placeholder.svg")},src:i.small,alt:`Thumbnail for ${e.title} (${e.category}, ${e.year})`})]})}function Me(){const{item:e,type:t}=R(),o=t==="trending"?e.thumbnail.trending:e.thumbnail.regular;return n.jsx("img",{className:d("radius-8px"),style:{maxHeight:"150px",width:"auto",maxWidth:"100px"},src:o.small,alt:`Thumbnail for ${e.title} (${e.category}, ${e.year})`})}function ht({className:e}){return n.jsx("svg",{width:"17",height:"20",xmlns:"http://www.w3.org/2000/svg",className:e,"aria-hidden":"true",fill:"currentColor",children:n.jsx("path",{d:"M15.387 0c.202 0 .396.04.581.119.291.115.522.295.694.542.172.247.258.52.258.82v17.038c0 .3-.086.573-.258.82a1.49 1.49 0 0 1-.694.542 1.49 1.49 0 0 1-.581.106c-.423 0-.79-.141-1.098-.423L8.46 13.959l-5.83 5.605c-.317.29-.682.436-1.097.436-.202 0-.396-.04-.581-.119a1.49 1.49 0 0 1-.694-.542A1.402 1.402 0 0 1 0 18.52V1.481c0-.3.086-.573.258-.82A1.49 1.49 0 0 1 .952.119C1.137.039 1.33 0 1.533 0h13.854Z",fill:"currentColor"})})}function ft({className:e}){return n.jsx("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",className:e,"aria-hidden":"true",fill:"currentColor",children:n.jsx("path",{d:"M20 4.481H9.08l2.7-3.278L10.22 0 7 3.909 3.78.029 2.22 1.203l2.7 3.278H0V20h20V4.481Zm-8 13.58H2V6.42h10v11.64Zm5-3.88h-2v-1.94h2v1.94Zm0-3.88h-2V8.36h2v1.94Z",fill:"currentColor"})})}function mt({className:e}){return n.jsx("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",className:e,"aria-hidden":"true",fill:"currentColor",children:n.jsx("path",{d:"M8 0H1C.4 0 0 .4 0 1v7c0 .6.4 1 1 1h7c.6 0 1-.4 1-1V1c0-.6-.4-1-1-1Zm0 11H1c-.6 0-1 .4-1 1v7c0 .6.4 1 1 1h7c.6 0 1-.4 1-1v-7c0-.6-.4-1-1-1ZM19 0h-7c-.6 0-1 .4-1 1v7c0 .6.4 1 1 1h7c.6 0 1-.4 1-1V1c0-.6-.4-1-1-1Zm0 11h-7c-.6 0-1 .4-1 1v7c0 .6.4 1 1 1h7c.6 0 1-.4 1-1v-7c0-.6-.4-1-1-1Z",fill:"currentColor"})})}function pt({className:e}){return n.jsx("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",className:e,"aria-hidden":"true",fill:"currentColor",children:n.jsx("path",{d:"M16.956 0H3.044A3.044 3.044 0 0 0 0 3.044v13.912A3.044 3.044 0 0 0 3.044 20h13.912A3.044 3.044 0 0 0 20 16.956V3.044A3.044 3.044 0 0 0 16.956 0ZM4 9H2V7h2v2Zm-2 2h2v2H2v-2Zm16-2h-2V7h2v2Zm-2 2h2v2h-2v-2Zm2-8.26V4h-2V2h1.26a.74.74 0 0 1 .74.74ZM2.74 2H4v2H2V2.74A.74.74 0 0 1 2.74 2ZM2 17.26V16h2v2H2.74a.74.74 0 0 1-.74-.74Zm16 0a.74.74 0 0 1-.74.74H16v-2h2v1.26Z",fill:"currentColor"})})}const Ne={"icon-bookmark-empty":"_icon-bookmark-empty_1jzqp_1","icon-bookmark-full":"_icon-bookmark-full_1jzqp_12"};function vt({className:e}){return n.jsx("svg",{width:"12",height:"14",xmlns:"http://www.w3.org/2000/svg",className:d(Ne["icon-bookmark-empty"],e),"aria-hidden":"true",strokeWidth:"1.5",children:n.jsx("path",{d:"m10.518.75.399 12.214-5.084-4.24-4.535 4.426L.75 1.036l9.768-.285Z"})})}function xt({className:e}){return n.jsx("svg",{width:"12",height:"14",xmlns:"http://www.w3.org/2000/svg",className:d(Ne["icon-bookmark-full"],e),"aria-hidden":"true",children:n.jsx("path",{d:"M10.61 0c.14 0 .273.028.4.083a1.03 1.03 0 0 1 .657.953v11.928a1.03 1.03 0 0 1-.656.953c-.116.05-.25.074-.402.074-.291 0-.543-.099-.756-.296L5.833 9.77l-4.02 3.924c-.218.203-.47.305-.756.305a.995.995 0 0 1-.4-.083A1.03 1.03 0 0 1 0 12.964V1.036A1.03 1.03 0 0 1 .656.083.995.995 0 0 1 1.057 0h9.552Z"})})}const gt=["navBookmark","navHome","navMovies","navTVSeries","bookmarkEmpty","bookmarkFull"],ue={logo:new URL("data:image/svg+xml,%3csvg%20width='33'%20height='27'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m26.463.408%203.2%206.4h-4.8l-3.2-6.4h-3.2l3.2%206.4h-4.8l-3.2-6.4h-3.2l3.2%206.4h-4.8l-3.2-6.4h-1.6a3.186%203.186%200%200%200-3.184%203.2l-.016%2019.2a3.2%203.2%200%200%200%203.2%203.2h25.6a3.2%203.2%200%200%200%203.2-3.2V.408h-6.4Z'%20fill='%23FC4747'/%3e%3c/svg%3e",import.meta.url).href,categoryMovie:new URL("data:image/svg+xml,%3csvg%20width='12'%20height='12'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.173%200H1.827A1.827%201.827%200%200%200%200%201.827v8.346C0%2011.183.818%2012%201.827%2012h8.346A1.827%201.827%200%200%200%2012%2010.173V1.827A1.827%201.827%200%200%200%2010.173%200ZM2.4%205.4H1.2V4.2h1.2v1.2ZM1.2%206.6h1.2v1.2H1.2V6.6Zm9.6-1.2H9.6V4.2h1.2v1.2ZM9.6%206.6h1.2v1.2H9.6V6.6Zm1.2-4.956V2.4H9.6V1.2h.756a.444.444%200%200%201%20.444.444ZM1.644%201.2H2.4v1.2H1.2v-.756a.444.444%200%200%201%20.444-.444ZM1.2%2010.356V9.6h1.2v1.2h-.756a.444.444%200%200%201-.444-.444Zm9.6%200a.444.444%200%200%201-.444.444H9.6V9.6h1.2v.756Z'%20fill='%23FFF'%20opacity='.75'/%3e%3c/svg%3e",import.meta.url).href,categoryTV:new URL("data:image/svg+xml,%3csvg%20width='12'%20height='12'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%202.689H5.448L7.068.722%206.132%200%204.2%202.345%202.268.017l-.936.705%201.62%201.967H0V12h12V2.689Zm-4.8%208.147h-6V3.853h6v6.983Zm3-2.328H9V7.344h1.2v1.164Zm0-2.328H9V5.016h1.2V6.18Z'%20fill='%23FFF'%20opacity='.75'/%3e%3c/svg%3e",import.meta.url).href,play:new URL("data:image/svg+xml,%3csvg%20width='30'%20height='30'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15%200C6.713%200%200%206.713%200%2015c0%208.288%206.713%2015%2015%2015%208.288%200%2015-6.712%2015-15%200-8.287-6.712-15-15-15Zm-3%2021V8l9%206.5-9%206.5Z'%20fill='%23FFF'/%3e%3c/svg%3e",import.meta.url).href,search:new URL("data:image/svg+xml,%3csvg%20width='32'%20height='32'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M27.613%2025.72%2023.08%2021.2a10.56%2010.56%200%200%200%202.253-6.533C25.333%208.776%2020.558%204%2014.667%204S4%208.776%204%2014.667c0%205.89%204.776%2010.666%2010.667%2010.666A10.56%2010.56%200%200%200%2021.2%2023.08l4.52%204.533a1.333%201.333%200%200%200%201.893%200%201.333%201.333%200%200%200%200-1.893ZM6.667%2014.667a8%208%200%201%201%2016%200%208%208%200%200%201-16%200Z'%20fill='%23FFF'/%3e%3c/svg%3e",import.meta.url).href,bookmarkEmpty:vt,bookmarkFull:xt,navHome:mt,navMovies:pt,navTVSeries:ft,navBookmark:ht};function N({name:e,className:t,alt:r}){const o=ue[e];if(gt.includes(e)&&typeof o!="string"){const s=ue[e];return n.jsx(s,{className:t,"aria-label":r||e})}return n.jsx("img",{src:o,className:t,alt:r||e})}function Ee({isTrailer:e}){const{item:t,type:r}=R(),o=r==="trending",s=t.category==="Movie";return n.jsxs("figcaption",{className:d("movie__caption flex gap-2 flex-col"),children:[n.jsxs("p",{className:d("flex justify-start items-center gap-2 text-white-75-custom",e?"text-preset-5 md:text-preset-3":o?"text-preset-5-mobile md:text-preset-4":"text-preset-6-mobile md:text-preset-5"),children:[t.year," •",n.jsx(N,{name:s?"navMovies":"navHome",className:"text-white-75-custom w-[12px] h-[12px]"}),t.category," • ",t.rating]}),n.jsx("h3",{className:d("text-white-custom",e?"text-preset-2-light md:text-preset-1":o?"text-preset-3-mobile md:text-preset-3":"text-preset-4-mobile md:text-preset-5"),children:t.title})]})}function _t(){const{item:e,fetchTrailer:t}=R();return n.jsx("div",{className:d(j.movie__play,"absolute inset-0 z-20 flex justify-center items-center"),children:n.jsx("button",{type:"button","aria-label":`Play trailer for ${e.title}`,onClick:t,className:d(j["movie__btn-play"],"flex justify-center items-center gap-2 radius-28px"),children:n.jsxs("span",{className:"flex flex-row gap-2 items-center border radius-28px p-2 text-preset-3-mobile md:text-preset-3",children:[n.jsx(N,{name:"play",className:"h-[20px] w-[20px]"}),n.jsx("span",{children:"Play"})]})})})}const yt=Be;function wt(e){const t=`${e.category}-${e.id}`,r=yt(({bookmarks:o})=>o.data);return{idBookmark:t,isBookmarkHosted:!!r[t]}}const bt=()=>{const e=Ze();return a.useMemo(()=>He(Pe,e),[e])};function jt(){const{item:e}=R(),{idBookmark:t,isBookmarkHosted:r}=wt(e),{addBookmark:o,deleteBookmark:s}=bt(),c=()=>{r?s(t):o(t,e)};return n.jsx("button",{type:"button","aria-label":e.isBookmarked?`Remove ${e.title} from bookmarks`:`Add ${e.title} to bookmarks`,onClick:c,className:d(j.movie__bookmark,"cursor-pointer flex justify-center items-center"),children:n.jsx(N,{className:d("w-[11px] h-[14px] z-40 text-black-custom hover:text-white-custom"),name:r?"bookmarkFull":"bookmarkEmpty"})})}function kt({children:e,onClose:t}){return a.useEffect(()=>{const r=o=>{o.key==="Escape"&&t()};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[t]),n.jsx("div",{className:d("fixed inset-0 z-50 bg-white-custom-30 flex items-center justify-center p-4"),onClick:t,children:n.jsxs("div",{className:"bg-black-custom rounded-lg p-4 min-w-[60%] max-w-[90%] max-h-[90%] relative",onClick:r=>r.stopPropagation(),children:[n.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-white-custom text-xl",children:"×"}),n.jsx("div",{className:"mt-5",children:e})]})})}function St(){const{showModal:e,setShowModal:t,loading:r,error:o,trailerData:s}=R();return e?n.jsxs(kt,{onClose:()=>t(!1),children:[r&&n.jsx("p",{className:"text-white-custom text-preset-1",children:"Loading trailer..."}),!r&&o&&n.jsx("p",{className:"text-white-custom text-preset-1",children:"Error Loading trailer..."}),!r&&!o&&s?.key&&n.jsx("iframe",{className:"w-[80vw] h-[45vw] max-w-[960px] max-h-[540px]",src:`https://www.youtube.com/embed/${s.key}`,title:"YouTube trailer",allowFullScreen:!0}),!r&&!o&&!s?.key&&n.jsx("p",{className:"text-white-custom text-preset-1",children:"No trailer found."}),n.jsxs("div",{className:"mt-[20px] flex gap-5 items-start justify-start",children:[n.jsx(Me,{}),n.jsx(Ee,{isTrailer:!0})]})]}):null}const B=()=>new AbortController;function Mt(e){const t=e.id,r=e.title||e.name||"Untitled",o=e.release_date||e.first_air_date||"0000",s=e.media_type==="movie"?"Movie":"TV Series",c="https://image.tmdb.org/t/p/w500",u="https://image.tmdb.org/t/p/original",l=e.poster_path?`${c}${e.poster_path}`:`${u}${e.backdrop_path}/assets/placeholder.svg`,i=e.backdrop_path?`${u}${e.backdrop_path}`:`${u}${e.backdrop_path}/assets/placeholder.svg`;return{id:t,title:r,year:parseInt(o.slice(0,4),10),category:s,rating:`${Math.round(e.vote_average*10)}/100`,isBookmarked:!1,isTrending:!1,thumbnail:{trending:{small:i,large:i},regular:{small:l,medium:l,large:l}}}}const Nt="https://image.tmdb.org/t/p/w500",Et="https://image.tmdb.org/t/p/original";function Te(e,t,r,o,s,c,u){const l=c?`${Nt}${c}`:"/frontend-mentor-exercise-34-entertainment-web-app/assets/placeholder.svg",i=u?`${Et}${u}`:"/frontend-mentor-exercise-34-entertainment-web-app/assets/placeholder.svg";return{id:e,title:t||"Untitled",year:r?parseInt(r.slice(0,4),10):0,category:o,rating:`${Math.round(s*10)}/100`,isBookmarked:!1,isTrending:!1,thumbnail:{trending:{small:i,large:i},regular:{small:l,medium:l,large:l}}}}function $e(e){return Te(e.id,e.title||e.original_title||"Untitled",e.release_date,"Movie",e.vote_average,e.poster_path,e.backdrop_path)}function Le(e){return Te(e.id,e.name||e.original_name||"Untitled",e.first_air_date,"TV Series",e.vote_average,e.poster_path,e.backdrop_path)}function Tt(e){return{id:e.id|0,results:$t(e.results??[])}}function $t(e){return e.filter(t=>t.site==="YouTube"&&t.type==="Trailer"&&t.key?.trim()!=="").map(t=>({id:t.id,key:t.key,name:t.name,site:t.site,type:t.type}))}const Lt="https://api.themoviedb.org/3",Ct="1f7db069c28319ca2df054e6ec6dda44",de=new Map,Vt=600*1e3;async function C(e,t,r={}){const o=new URL(e,Lt);o.searchParams.set("api_key",Ct);const s=o.toString(),c=Date.now(),u=de.get(s);if(u&&c<u.expiresAt)return u.data;const l=r.method||"GET",i=await fetch(s,{...r,signal:t.signal,method:l,headers:{"Content-Type":"application/json",...r.headers||{}}});if(!i.ok){const f=await i.json().catch(()=>({}));throw new Error(`API error ${i.status}: ${f.status_message||i.statusText}`)}const m=await i.json();return de.set(s,{data:m,expiresAt:c+Vt}),m}function It(){const e=B();return{call:C("3/trending/all/day",e).then(t=>t.results.map(Mt)),controller:e}}function Rt([e=1,t=""]){const r=B(),o=t?`3/search/movie?query=${encodeURIComponent(t)}&page=${e}`:`3/movie/popular?page=${e}`,s=t?`3/search/tv?query=${encodeURIComponent(t)}&page=${e}`:`3/tv/popular?page=${e}`;return{call:Promise.all([C(o,r),C(s,r)]).then(([u,l])=>{const i=[...u.results.map($e),...l.results.map(Le)].sort((f,h)=>f.title.localeCompare(h.title)),m=e<Math.min(u.total_pages,l.total_pages);return{items:i,hasMore:m,totalPages:Math.min(u.total_pages,l.total_pages)}}),controller:r}}function gr([e=1,t=""]){const r=B(),o=t?`3/search/movie?query=${encodeURIComponent(t)}&page=${e}`:`3/movie/popular?page=${e}`;return{call:C(o,r).then(c=>{const u=c.results.map($e).sort((i,m)=>i.title.localeCompare(m.title)),l=e<c.total_pages;return{items:u,hasMore:l,totalPages:c.total_pages}}),controller:r}}function _r([e=1,t=""]){const r=B(),o=t?`3/search/tv?query=${encodeURIComponent(t)}&page=${e}`:`3/tv/popular?page=${e}`;return{call:C(o,r).then(c=>{const u=c.results.map(Le).sort((i,m)=>i.title.localeCompare(m.title)),l=e<c.total_pages;return{items:u,hasMore:l,totalPages:c.total_pages}}),controller:r}}function Ft([e=0,t="tv"]){const r=B(),o=`3/${t}/${e}/videos`;return{call:C(o,r).then(c=>({key:Tt(c).results.find(l=>l.type==="Trailer"&&l.site==="YouTube"&&l.key)?.key??null})),controller:r}}const H=me(!1),J={readonly:H.asReadonly?.()??H,show:()=>H.value=!0,hide:()=>H.value=!1},X=(e,t)=>{const[r,o]=a.useState(!1),[s,c]=a.useState(!1),[u,l]=a.useState(null),[i,m]=a.useState(null),f=a.useRef(null),h=a.useCallback(v=>{f.current&&f.current.abort();const{call:g,controller:b}=e(v);f.current=b,c(!0),J.show(),g.then(x=>{l(x),m(null)}).catch(x=>{x.name!=="AbortError"&&m(x)}).finally(()=>{c(!1),J.hide()})},[e]);return a.useEffect(()=>t?.autoFetch&&!r?(f.current&&f.current.abort(),o(!0),h(t.params)):()=>{f.current},[h,t?.autoFetch,t?.params,r]),{loading:s,data:u,error:i,fetch:h,controller:f.current}};function At(e=0){const t=a.useRef(null);return a.useEffect(()=>{if(!t.current)return;const r=t.current,o=new IntersectionObserver(([s])=>{s.isIntersecting&&(r.style.transitionDelay=`${e}ms`,r.classList.add("fade-in"),o.unobserve(r))},{threshold:.1});return o.observe(r),()=>o.disconnect()},[e]),t}const k=({item:e,type:t,children:r})=>{const o=At(100),[s,c]=a.useState(!1),[u,l]=a.useState(!1),i=e.category==="Movie",m=t==="regular",f=t==="trending",h=t==="poster",v=a.useMemo(()=>[e.id,i?"movie":"tv"],[e,i]),{loading:g,error:b,data:x,fetch:_,controller:S}=X(Ft,{autoFetch:!1,params:v}),y=a.useCallback(()=>{S&&S.abort(),_(v),l(!0)},[_,S,v]),F={item:e,type:t,isLoaded:s,setIsLoaded:c,showModal:u,setShowModal:l,fetchTrailer:y,trailerData:x,loading:g,error:b};return n.jsxs(Se.Provider,{value:F,children:[n.jsx("figure",{ref:o,className:d("fade-start",j.movie,m&&j["movie--regular"],f&&j["movie--trending"],h&&j["movie--poster"]),children:r}),u&&n.jsx(k.Modal,{})]})};k.Image=dt;k.Thumbnail=Me;k.Caption=Ee;k.PlayButton=_t;k.Bookmark=jt;k.Modal=St;const Q=a.forwardRef(({title:e,items:t,sectionType:r,ariaLabel:o,showWhenEmpty:s=!1,emptyMessage:c="No results found.",isPaginated:u=!1,hasMore:l=!1,onLoadMore:i=()=>{},currentPage:m=1,totalPages:f=1,onPageChange:h=()=>{},loading:v=!1,loadingMessage:g="Loading ...",error:b=!1,errorMessage:x="Loading Error"},_)=>{const S=()=>{const y=[],Ve=Math.floor(2.5),se=Math.max(1,m-Ve),Ie=Math.min(f,se+5-1);for(let O=se;O<=Ie;O++)y.push(O);return y};return n.jsxs("div",{ref:_,className:"media-section my-6",children:[n.jsx("h2",{className:"my-[24px] text-white-custom text-preset-1-mobile lg:text-preset-1",children:e}),n.jsx("section",{tabIndex:0,role:"region","aria-label":o,className:d(W["media-section--list"],"gap-5",r==="trending"?"grid-result grid-result--trending":"grid grid-result grid-result--regular"),style:{WebkitOverflowScrolling:"touch"},children:t.length===0&&s?n.jsx("p",{className:"text-blue-500 text-preset-3 my-[24px]",children:c}):t.map(y=>n.jsxs(k,{item:y,type:r,children:[n.jsx(k.Image,{}),n.jsx(k.Caption,{}),n.jsx(k.PlayButton,{}),n.jsx(k.Bookmark,{})]},`${y.category}-${y.id??""}-${y.title}`))}),u&&!l&&f>1&&!v&&n.jsxs("div",{className:d(W["media-section--pagination"],"mt-6 text-white-custom flex justify-center items-center gap-5"),children:[n.jsx("button",{className:"px-4 py-3 rounded bg-gray-700 hover:bg-gray-600 disabled:opacity-50 text-preset-3-mobile md:text-preset-3",disabled:m===1,onClick:()=>h(m-1),children:"Prev"}),S().map(y=>n.jsx("button",{className:d(W["media-section--page"],"px-4 py-3 text-preset-5-mobile md:text-preset-3",y===m?"bg-white text-black":"bg-gray-700 hover:bg-gray-600"),onClick:()=>h(y),children:y},y)),n.jsx("button",{className:"px-4 py-3 rounded bg-gray-700 hover:bg-gray-600 disabled:opacity-50 text-preset-3-mobile md:text-preset-3",disabled:m===f,onClick:()=>h(m+1),children:"Next"})]}),u&&l&&!v&&n.jsx("div",{className:"mt-6 flex justify-center text-preset-3",children:n.jsx("button",{onClick:i,className:"px-6 py-2 rounded bg-white text-black hover:bg-gray-200 transition",children:"Load More"})}),v&&n.jsx("p",{className:"text-center text-white-custom mt-4 text-preset-3",children:g}),!v&&b&&n.jsx("p",{className:"text-center text-red-500 mt-4 text-preset-3",children:x})]})});Q.displayName="MovieSection";const Bt=e=>({value:e,onInput:t=>{t.preventDefault(),e.value=t.currentTarget.value}});function Zt({placeholder:e,className:t,searchTerm:r}){const o=a.useRef(null);return n.jsxs("div",{className:d(t,"flex flex-row gap-4 justify-center items-center text-white-custom"),children:[n.jsx(N,{name:"search",className:d("w-[24px] h-[24px] lg:w-[32px] lg:h-[32px]")}),n.jsx("input",{ref:o,className:"grow-1 shrink-1 p-1 text-preset-2-mobile lg:text-preset-2-light",type:"text",placeholder:e||"",onFocus:()=>o.current?.select(),...Bt(r)})]})}function Ht(e,t=300){const r=je(e.value);return a.useEffect(()=>{const o=setTimeout(()=>{r.value=e.value},t);return()=>clearTimeout(o)},[e.value,t,r]),r}function Pt(e){const t=je(""),r=Ht(t,500),o=a.useMemo(()=>{const s=r.value.toLowerCase();return s.length===0?e:e.filter(c=>c.title.toLowerCase().includes(s))},[e,r.value]);return{searchTerm:t,debouncedSearchTerm:r,filteredItems:o}}function qt(){be();const e=a.useRef(null),[t,r]=a.useState(!1),[o,s]=a.useState(1),[c,u]=a.useState(""),{loading:l,error:i,data:m}=X(It,{autoFetch:!0,params:1}),{loading:f,error:h,data:v,fetch:g,controller:b}=X(Rt,{autoFetch:!0,params:[1,c]}),{searchTerm:x,debouncedSearchTerm:_,filteredItems:S}=Pt(v?.items??[]);a.useEffect(()=>{_.value!==c&&(b&&b.abort(),u(_.value),s(1),g([1,_.value]))},[_.value,c,g,b]),a.useEffect(()=>{t&&e.current&&(e.current.scrollIntoView({behavior:"smooth"}),r(!1))},[t,S]);const y=()=>f?"":S.length===0?"No movies or TV Series found":S.length>0&&_.value.length>0?`Found ${v?.totalPages} page${v?.totalPages?"s":""} for '${_.value}'`:"Recommended for you";return n.jsxs("section",{className:"mt-[24px] mx-[16px]",children:[n.jsx(Zt,{placeholder:"Search for movies or TV Series",searchTerm:x}),_.value.length===0&&n.jsx(Q,{title:"Trending",items:m||[],sectionType:"trending",ariaLabel:"Trending",loading:l,loadingMessage:"Loading trending ...",error:!!i,errorMessage:`Loading Error Trending: ${i}`}),n.jsx(Q,{ref:e,title:y(),items:S,sectionType:"poster",ariaLabel:"Movie or TV Series list",isPaginated:!0,currentPage:o,totalPages:v?.totalPages??1,onPageChange:F=>{s(F),g([F,_.value]),r(!0)},loading:f,loadingMessage:"Loading movies and TV Series recommended ...",error:!!h,errorMessage:`Movies and TV Series Error: ${h}`})]})}const Ut="_ml_4rnc9_1",Ot="_ml__header_4rnc9_12",Dt="_ml__main_4rnc9_16",Kt="_ml__footer_4rnc9_20",P={ml:Ut,ml__header:Ot,ml__main:Dt,ml__footer:Kt};function Ce(){be();const e=J.readonly.value;return console.log("Loading",{loading:e}),n.jsxs("div",{"aria-live":"assertive","aria-busy":e,role:"status",className:d("progress background--inner",e&&"infinite"),children:[e&&n.jsx("span",{className:"sr-only",children:"Loading, please wait..."}),n.jsx("div",{className:"bar"})]})}function zt({className:e}){return n.jsxs("footer",{className:d("text-center py-4 text-gray-500 text-xs",e),children:["Challenge by",n.jsx("a",{className:"m-0.5 ",href:"https://www.frontendmentor.io/profile/barriedirk/solutions",target:"_blank",rel:"noopener","aria-label":"View solutions by Barrie Freyre on Frontend Mentor",children:"Frontend Mentor"}),". Coded by",n.jsx("a",{className:"m-0.5",href:"https://www.linkedin.com/in/barriefreyre/",target:"_blank",rel:"noopener","aria-label":"Visit Barrie Freyre's LinkedIn profile",children:"Barrie Freyre"}),"."]})}const Wt="_header_vlxlq_1",Yt="_header__link_vlxlq_11",Gt="_header__avatar_vlxlq_16",Jt="_header__logout_vlxlq_23",Xt="_header__profile_vlxlq_27",Qt="_header__options_vlxlq_31",er="_expanded_vlxlq_44",E={header:Wt,header__link:Yt,header__avatar:Gt,header__logout:Jt,header__profile:Xt,header__options:Qt,expanded:er};function q(e,t,r){a.useEffect(()=>{const o=s=>{const c=s.target?.tagName;if(["INPUT","TEXTAREA","SELECT"].includes(c)||s.target?.isContentEditable)return;const l=s.key.toLowerCase()===e.toLowerCase(),i=(r??[]).every(f=>{switch(f){case"ctrl":return s.ctrlKey;case"alt":return s.altKey;case"meta":return s.metaKey;case"shift":return s.shiftKey;default:return!1}}),m=s.ctrlKey===!!r?.includes("ctrl")&&s.altKey===!!r?.includes("alt")&&s.metaKey===!!r?.includes("meta")&&s.shiftKey===!!r?.includes("shift");l&&i&&m&&(s.preventDefault(),t())};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[e,t,r?.join(",")])}function tr({className:e,alt:t}){const r=new URL("/frontend-mentor-exercise-34-entertainment-web-app/assets/image-avatar-Bwno4jNK.png",import.meta.url).href;return n.jsx("img",{src:r,className:e,alt:t})}function rr({className:e}){const t=qe(),[r,o]=a.useState(!1),s=a.useRef(null);a.useEffect(()=>{const i=m=>{m.key==="Escape"&&o(!1)};return r&&window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[r]),a.useEffect(()=>{r&&s.current&&s.current.querySelector("#profile-options button")?.focus()},[r]),q("h",()=>t("/"),["alt"]),q("m",()=>t("/movies"),[]),q("t",()=>t("/tv"),["alt"]),q("b",()=>t("/bookmarks"),["alt"]);const c=async()=>{await Oe.auth.signOut(),window.location.reload()},u=()=>{o(i=>!i)},l=d("focus:outline-none focus-visible:ring-2 focus-visible:ring-white hover:text-red-500",E.header__link);return n.jsxs("header",{className:d(e,"flex flex-row justify-between items-center lg:flex-col lg:h-[90dvh] lg:max-h-[800px] lg:w-[96px] lg:justify-start lg:gap-16",E.header),children:[n.jsx(Ue,{className:"",to:"/","aria-label":"Home",children:n.jsx(N,{name:"logo"})}),n.jsxs("nav",{className:d("flex flex-row justify-center items-center gap-8 lg:flex-col",E.header__nav),"aria-label":"Primary navigation",children:[n.jsx(Z,{to:"/","aria-label":"Home",className:({isActive:i})=>d("h-[20px] w-[20px]",l,i&&"text-white hover:text-white",!i&&"text-blue-500"),children:n.jsx(N,{className:"h-[20px] w-[20px]",name:"navHome"})}),n.jsx(Z,{className:({isActive:i})=>d("h-[20px] w-[20px]",l,i&&"text-white hover:text-white",!i&&"text-blue-500"),to:"/movies","aria-label":"Category: Movies",children:n.jsx(N,{className:"h-[20px] w-[20px]",name:"navMovies"})}),n.jsx(Z,{className:({isActive:i})=>d("h-[20px] w-[20px]",l,i&&"text-white hover:text-white",!i&&"text-blue-500"),to:"/tv-series","aria-label":"Category: TV",children:n.jsx(N,{className:"h-[20px] w-[20px]",name:"navTVSeries"})}),n.jsx(Z,{className:({isActive:i})=>d("h-[20px] w-[20px]",l,i&&"text-white hover:text-white",!i&&"text-blue-500"),to:"/bookmarks","aria-label":"Bookmark",children:n.jsx(N,{className:"h-[20px] w-[20px]",name:"navBookmark"})})]}),n.jsxs("div",{className:d(E.header__profile,{[E.expanded]:r},"flex justify-center items-center lg:mt-auto"),ref:s,children:[n.jsx("button",{className:"w-fit h-fit",onClick:u,"aria-haspopup":"true","aria-expanded":r,"aria-controls":"profile-options",children:n.jsx(tr,{className:d(E.header__avatar)})}),n.jsx("div",{id:"profile-options",className:d(E.header__options),"aria-label":"Profile Options",role:"group","aria-expanded":r,children:n.jsx("button",{className:d(E.header__logout,"header__profile--logout text-preset-4"),onClick:()=>c(),children:"Logout"})})]})]})}function nr(){return n.jsxs(n.Fragment,{children:[n.jsx(Ce,{}),n.jsxs("div",{className:d(P.ml),children:[n.jsx(rr,{className:d(P.ml__header)}),n.jsx("main",{className:d(P.ml__main),children:n.jsx(ee,{})}),n.jsx(zt,{className:d(P.ml__footer)})]})]})}function or(e){const t=a.useRef(null);a.useEffect(()=>(t.current=document.body.style.cssText,document.body.style.cssText=e,()=>{document.body.style.cssText=t.current??""}),[])}function sr(){return n.jsx("header",{children:n.jsx(N,{name:"logo"})})}function ir({className:e}){return n.jsxs("footer",{className:d("text-center mt-auto py-4 text-gray-500 text-xs",e),children:["Challenge by",n.jsx("a",{className:"m-0.5 ",href:"https://www.frontendmentor.io/profile/barriedirk/solutions",target:"_blank",rel:"noopener","aria-label":"View solutions by Barrie Freyre on Frontend Mentor",children:"Frontend Mentor"}),". Coded by",n.jsx("a",{className:"m-0.5",href:"https://www.linkedin.com/in/barriefreyre/",target:"_blank",rel:"noopener","aria-label":"Visit Barrie Freyre's LinkedIn profile",children:"Barrie Freyre"}),"."]})}function ar(){return or("background-color: var(--clr-blue-950);"),n.jsxs(n.Fragment,{children:[n.jsx(Ce,{}),n.jsxs("div",{className:"auth-wrapper",children:[n.jsx(sr,{}),n.jsx("main",{className:"auth-layout",children:n.jsx(ee,{})}),n.jsx(ir,{})]})]})}const lr=a.lazy(()=>V(()=>import("./Login-Dh5GxdtT.js"),__vite__mapDeps([0,1,2,3,4,5]))),cr=a.lazy(()=>V(()=>import("./SignUp-BLJuFNCV.js"),__vite__mapDeps([6,1,2,3,4,7]))),ur=a.lazy(()=>V(()=>import("./Mockup-CnQEoZjc.js"),__vite__mapDeps([8,1,2,9]))),dr=a.lazy(()=>V(()=>import("./Movies-Bq9AG0Gp.js"),__vite__mapDeps([10,1,2]))),hr=a.lazy(()=>V(()=>import("./TVSeries-CHfX_0py.js"),__vite__mapDeps([11,1,2]))),fr=a.lazy(()=>V(()=>import("./Bookmarks-KefuMTzB.js"),__vite__mapDeps([12,1,2])));function mr(){return n.jsx(a.Suspense,{fallback:n.jsx("div",{children:"Loading..."}),children:n.jsxs(De,{children:[n.jsxs(M,{element:n.jsx(ar,{}),children:[n.jsx(M,{path:"/login",element:n.jsx(lr,{})}),n.jsx(M,{path:"/signup",element:n.jsx(cr,{})})]}),n.jsx(M,{element:n.jsx(ze,{}),children:n.jsxs(M,{path:"/",element:n.jsx(nr,{}),children:[n.jsx(M,{index:!0,element:n.jsx(qt,{})}),n.jsx(M,{path:"mockup",element:n.jsx(ur,{})}),n.jsx(M,{path:"movies",element:n.jsx(dr,{})}),n.jsx(M,{path:"tv-series",element:n.jsx(hr,{})}),n.jsx(M,{path:"bookmarks",element:n.jsx(fr,{})})]})})]})})}const yr=Object.freeze(Object.defineProperty({__proto__:null,default:mr},Symbol.toStringTag,{value:"Module"}));export{yr as A,k as M,Zt as S,Ht as a,xr as b,vr as c,d,X as e,gr as f,Pt as g,Q as h,_r as i,yt as j,be as k,J as l,je as u};
